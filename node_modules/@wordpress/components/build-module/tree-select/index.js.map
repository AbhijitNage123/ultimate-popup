{"version":3,"sources":["@wordpress/components/src/tree-select/index.js"],"names":["unescape","unescapeString","repeat","flatMap","compact","useMemo","SelectControl","getSelectOptions","tree","level","treeNode","value","id","label","name","children","TreeSelect","noOptionLabel","onChange","selectedId","props","options"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,QAAQ,IAAIC,cAArB,EAAqCC,MAArC,EAA6CC,OAA7C,EAAsDC,OAAtD,QAAqE,QAArE;AAEA;AACA;AACA;;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA;AACA;AACA;;AACA,SAASC,aAAT,QAA8B,KAA9B;;AAEA,SAASC,gBAAT,CAA2BC,IAA3B,EAAiCC,KAAK,GAAG,CAAzC,EAA6C;AAC5C,SAAON,OAAO,CAAEK,IAAF,EAAUE,QAAF,IAAgB,CACrC;AACCC,IAAAA,KAAK,EAAED,QAAQ,CAACE,EADjB;AAECC,IAAAA,KAAK,EACJX,MAAM,CAAE,QAAF,EAAYO,KAAK,GAAG,CAApB,CAAN,GAAgCR,cAAc,CAAES,QAAQ,CAACI,IAAX;AAHhD,GADqC,EAMrC,GAAGP,gBAAgB,CAAEG,QAAQ,CAACK,QAAT,IAAqB,EAAvB,EAA2BN,KAAK,GAAG,CAAnC,CANkB,CAAxB,CAAd;AAQA;;AAED,eAAe,SAASO,UAAT,CAAqB;AACnCH,EAAAA,KADmC;AAEnCI,EAAAA,aAFmC;AAGnCC,EAAAA,QAHmC;AAInCC,EAAAA,UAJmC;AAKnCX,EAAAA,IALmC;AAMnC,KAAGY;AANgC,CAArB,EAOX;AACH,QAAMC,OAAO,GAAGhB,OAAO,CAAE,MAAM;AAC9B,WAAOD,OAAO,CAAE,CACfa,aAAa,IAAI;AAAEN,MAAAA,KAAK,EAAE,EAAT;AAAaE,MAAAA,KAAK,EAAEI;AAApB,KADF,EAEf,GAAGV,gBAAgB,CAAEC,IAAF,CAFJ,CAAF,CAAd;AAIA,GALsB,EAKpB,CAAES,aAAF,EAAiBT,IAAjB,CALoB,CAAvB;AAOA,SACC,cAAC,aAAD;AACQK,IAAAA,KADR;AACeQ,IAAAA,OADf;AACwBH,IAAAA,QADxB;AAEC,IAAA,KAAK,EAAGC;AAFT,KAGMC,KAHN,EADD;AAOA","sourcesContent":["/**\n * External dependencies\n */\nimport { unescape as unescapeString, repeat, flatMap, compact } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport { SelectControl } from '../';\n\nfunction getSelectOptions( tree, level = 0 ) {\n\treturn flatMap( tree, ( treeNode ) => [\n\t\t{\n\t\t\tvalue: treeNode.id,\n\t\t\tlabel:\n\t\t\t\trepeat( '\\u00A0', level * 3 ) + unescapeString( treeNode.name ),\n\t\t},\n\t\t...getSelectOptions( treeNode.children || [], level + 1 ),\n\t] );\n}\n\nexport default function TreeSelect( {\n\tlabel,\n\tnoOptionLabel,\n\tonChange,\n\tselectedId,\n\ttree,\n\t...props\n} ) {\n\tconst options = useMemo( () => {\n\t\treturn compact( [\n\t\t\tnoOptionLabel && { value: '', label: noOptionLabel },\n\t\t\t...getSelectOptions( tree ),\n\t\t] );\n\t}, [ noOptionLabel, tree ] );\n\n\treturn (\n\t\t<SelectControl\n\t\t\t{ ...{ label, options, onChange } }\n\t\t\tvalue={ selectedId }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n}\n"]}