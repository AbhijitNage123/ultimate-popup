{"version":3,"sources":["@wordpress/components/src/mobile/bottom-sheet/index.native.js"],"names":["Dimensions","Keyboard","LayoutAnimation","PanResponder","Platform","ScrollView","StatusBar","Text","TouchableHighlight","View","Modal","SafeArea","omit","subscribeAndroidModalClosed","Component","withPreferredColorScheme","styles","Button","Cell","CyclePickerCell","PickerCell","SwitchCell","RangeCell","ColorCell","LinkCell","LinkSuggestionItemCell","RadioCell","NavigationScreen","NavigationContainer","KeyboardAvoidingView","BottomSheetSubSheet","NavigationHeader","BottomSheetProvider","DEFAULT_LAYOUT_ANIMATION","Presets","easeInEaseOut","BottomSheet","constructor","arguments","onSafeAreaInsetsUpdate","bind","onScroll","isScrolling","onShouldEnableScroll","onDismiss","onShouldSetBottomSheetMaxHeight","setIsFullScreen","onDimensionsChange","onHeaderLayout","onCloseBottomSheet","onHandleClosingBottomSheet","onHardwareButtonPress","onHandleHardwareButtonPress","keyboardShow","keyboardHide","headerHeight","keyboardHeight","lastLayoutAnimation","lastLayoutAnimationFinished","state","safeAreaBottomInset","safeAreaTopInset","bounces","maxHeight","scrollEnabled","handleClosingBottomSheet","handleHardwareButtonPress","isMaxHeightSet","isFullScreen","props","e","isVisible","height","endCoordinates","performKeyboardLayoutAnimation","onSetMaxHeight","onKeyboardShow","onKeyboardHide","event","duration","easing","animationConfig","type","Types","layoutAnimation","update","create","property","Properties","opacity","delete","configureNext","performRegularLayoutAnimation","useLastLayoutAnimation","OS","componentDidMount","getSafeAreaInsetsForRootView","then","androidModalClosedSubscription","onClose","addEventListener","keyboardShowListener","addListener","keyboardHideListener","safeAreaEventSubscription","componentWillUnmount","removeEventListener","remove","result","safeAreaInsets","bottom","top","setState","width","get","statusBarHeight","currentHeight","maxHeightWithOpenKeyboard","Math","min","nativeEvent","layout","isCloseToBottom","layoutMeasurement","contentOffset","contentSize","y","isCloseToTop","value","action","getContentStyle","paddingBottom","scrollableContent","render","title","leftButton","rightButton","header","hideHeader","style","contentStyle","getStylesFromColorScheme","children","withHeaderSeparator","hasNavigation","rest","panResponder","onMoveShouldSetPanResponder","evt","gestureState","dy","backgroundStyle","background","backgroundDark","bottomSheetHeaderTitleStyle","bottomSheetHeaderTitle","bottomSheetHeaderTitleDark","listStyle","flexGrow","setMinHeightToMaxHeight","minHeight","listProps","disableScrollViewPanResponder","onScrollBeginDrag","onScrollEndDrag","scrollEventThrottle","contentContainerStyle","content","emptyHeader","automaticallyAdjustContentInsets","WrapperView","getHeader","bottomSheetHeader","flex","separator","bottomModal","undefined","panHandlers","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","borderColor","marginTop","backgroundFullScreen","dragIndicator","shouldEnableBottomSheetScroll","shouldEnableBottomSheetMaxHeight","isBottomSheetContentScrolling","getWidth","maxWidth","ThemedBottomSheet","SubSheet"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tDimensions,\n\tKeyboard,\n\tLayoutAnimation,\n\tPanResponder,\n\tPlatform,\n\tScrollView,\n\tStatusBar,\n\tText,\n\tTouchableHighlight,\n\tView,\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport SafeArea from 'react-native-safe-area';\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { subscribeAndroidModalClosed } from '@wordpress/react-native-bridge';\nimport { Component } from '@wordpress/element';\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport Button from './button';\nimport Cell from './cell';\nimport CyclePickerCell from './cycle-picker-cell';\nimport PickerCell from './picker-cell';\nimport SwitchCell from './switch-cell';\nimport RangeCell from './range-cell';\nimport ColorCell from './color-cell';\nimport LinkCell from './link-cell';\nimport LinkSuggestionItemCell from './link-suggestion-item-cell';\nimport RadioCell from './radio-cell';\nimport NavigationScreen from './bottom-sheet-navigation/navigation-screen';\nimport NavigationContainer from './bottom-sheet-navigation/navigation-container';\nimport KeyboardAvoidingView from './keyboard-avoiding-view';\nimport BottomSheetSubSheet from './sub-sheet';\nimport NavigationHeader from './navigation-header';\nimport { BottomSheetProvider } from './bottom-sheet-context';\n\nconst DEFAULT_LAYOUT_ANIMATION = LayoutAnimation.Presets.easeInEaseOut;\n\nclass BottomSheet extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSafeAreaInsetsUpdate = this.onSafeAreaInsetsUpdate.bind( this );\n\t\tthis.onScroll = this.onScroll.bind( this );\n\t\tthis.isScrolling = this.isScrolling.bind( this );\n\t\tthis.onShouldEnableScroll = this.onShouldEnableScroll.bind( this );\n\t\tthis.onDismiss = this.onDismiss.bind( this );\n\t\tthis.onShouldSetBottomSheetMaxHeight = this.onShouldSetBottomSheetMaxHeight.bind(\n\t\t\tthis\n\t\t);\n\n\t\tthis.setIsFullScreen = this.setIsFullScreen.bind( this );\n\n\t\tthis.onDimensionsChange = this.onDimensionsChange.bind( this );\n\t\tthis.onHeaderLayout = this.onHeaderLayout.bind( this );\n\t\tthis.onCloseBottomSheet = this.onCloseBottomSheet.bind( this );\n\t\tthis.onHandleClosingBottomSheet = this.onHandleClosingBottomSheet.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.onHardwareButtonPress = this.onHardwareButtonPress.bind( this );\n\t\tthis.onHandleHardwareButtonPress = this.onHandleHardwareButtonPress.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.keyboardShow = this.keyboardShow.bind( this );\n\t\tthis.keyboardHide = this.keyboardHide.bind( this );\n\n\t\tthis.headerHeight = 0;\n\t\tthis.keyboardHeight = 0;\n\t\tthis.lastLayoutAnimation = null;\n\t\tthis.lastLayoutAnimationFinished = false;\n\n\t\tthis.state = {\n\t\t\tsafeAreaBottomInset: 0,\n\t\t\tsafeAreaTopInset: 0,\n\t\t\tbounces: false,\n\t\t\tmaxHeight: 0,\n\t\t\tscrollEnabled: true,\n\t\t\tisScrolling: false,\n\t\t\thandleClosingBottomSheet: null,\n\t\t\thandleHardwareButtonPress: null,\n\t\t\tisMaxHeightSet: true,\n\t\t\tisFullScreen: this.props.isFullScreen || false,\n\t\t};\n\t}\n\n\tkeyboardShow( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { height } = e.endCoordinates;\n\t\tthis.keyboardHeight = height;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardShow?.();\n\t}\n\n\tkeyboardHide( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.keyboardHeight = 0;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardHide?.();\n\t}\n\n\tperformKeyboardLayoutAnimation( event ) {\n\t\tconst { duration, easing } = event;\n\n\t\tif ( duration && easing ) {\n\t\t\t// This layout animation is the same as the React Native's KeyboardAvoidingView component.\n\t\t\t// Reference: https://github.com/facebook/react-native/blob/266b21baf35e052ff28120f79c06c4f6dddc51a9/Libraries/Components/Keyboard/KeyboardAvoidingView.js#L119-L128\n\t\t\tconst animationConfig = {\n\t\t\t\t// We have to pass the duration equal to minimal accepted duration defined here: RCTLayoutAnimation.m\n\t\t\t\tduration: duration > 10 ? duration : 10,\n\t\t\t\ttype: LayoutAnimation.Types[ easing ] || 'keyboard',\n\t\t\t};\n\t\t\tconst layoutAnimation = {\n\t\t\t\tduration: animationConfig.duration,\n\t\t\t\tupdate: animationConfig,\n\t\t\t\tcreate: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t\tdelete: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t};\n\t\t\tthis.lastLayoutAnimationFinished = false;\n\t\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t\t} );\n\t\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t\t} else {\n\t\t\tthis.performRegularLayoutAnimation( {\n\t\t\t\tuseLastLayoutAnimation: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tperformRegularLayoutAnimation( { useLastLayoutAnimation } ) {\n\t\t// On Android, we should prevent triggering multiple layout animations at the same time because it can produce visual glitches.\n\t\tif (\n\t\t\tPlatform.OS === 'android' &&\n\t\t\tthis.lastLayoutAnimation &&\n\t\t\t! this.lastLayoutAnimationFinished\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutAnimation = useLastLayoutAnimation\n\t\t\t? this.lastLayoutAnimation || DEFAULT_LAYOUT_ANIMATION\n\t\t\t: DEFAULT_LAYOUT_ANIMATION;\n\n\t\tthis.lastLayoutAnimationFinished = false;\n\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t} );\n\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t}\n\n\tcomponentDidMount() {\n\t\tSafeArea.getSafeAreaInsetsForRootView().then(\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\n\t\tif ( Platform.OS === 'android' ) {\n\t\t\tthis.androidModalClosedSubscription = subscribeAndroidModalClosed(\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onClose();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tDimensions.addEventListener( 'change', this.onDimensionsChange );\n\n\t\t// 'Will' keyboard events are not available on Android.\n\t\t// Reference: https://reactnative.dev/docs/0.61/keyboard#addlistener\n\t\tthis.keyboardShowListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillShow' : 'keyboardDidShow',\n\t\t\tthis.keyboardShow\n\t\t);\n\t\tthis.keyboardHideListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillHide' : 'keyboardDidHide',\n\t\t\tthis.keyboardHide\n\t\t);\n\n\t\tthis.safeAreaEventSubscription = SafeArea.addEventListener(\n\t\t\t'safeAreaInsetsForRootViewDidChange',\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tDimensions.removeEventListener( 'change', this.onDimensionsChange );\n\t\tthis.keyboardShowListener.remove();\n\t\tthis.keyboardHideListener.remove();\n\t\tif ( this.androidModalClosedSubscription ) {\n\t\t\tthis.androidModalClosedSubscription.remove();\n\t\t}\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.safeAreaEventSubscription.remove();\n\t\tthis.safeAreaEventSubscription = null;\n\t\tSafeArea.removeEventListener(\n\t\t\t'safeAreaInsetsForRootViewDidChange',\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\t}\n\n\tonSafeAreaInsetsUpdate( result ) {\n\t\tconst { safeAreaBottomInset, safeAreaTopInset } = this.state;\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { safeAreaInsets } = result;\n\t\tif (\n\t\t\tsafeAreaBottomInset !== safeAreaInsets.bottom ||\n\t\t\tsafeAreaTopInset !== safeAreaInsets.top\n\t\t) {\n\t\t\tthis.setState( {\n\t\t\t\tsafeAreaBottomInset: safeAreaInsets.bottom,\n\t\t\t\tsafeAreaTopInset: safeAreaInsets.top,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSetMaxHeight() {\n\t\tconst { height, width } = Dimensions.get( 'window' );\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\tconst statusBarHeight =\n\t\t\tPlatform.OS === 'android' ? StatusBar.currentHeight : 0;\n\n\t\t// `maxHeight` when modal is opened along with a keyboard\n\t\tconst maxHeightWithOpenKeyboard =\n\t\t\t0.95 *\n\t\t\t( Dimensions.get( 'window' ).height -\n\t\t\t\tthis.keyboardHeight -\n\t\t\t\tstatusBarHeight -\n\t\t\t\tthis.headerHeight );\n\n\t\t// On horizontal mode `maxHeight` has to be set on 90% of width\n\t\tif ( width > height ) {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min( 0.9 * height, maxHeightWithOpenKeyboard ),\n\t\t\t} );\n\t\t\t//\tOn vertical mode `maxHeight` has to be set on 50% of width\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min(\n\t\t\t\t\theight / 2 - safeAreaBottomInset,\n\t\t\t\t\tmaxHeightWithOpenKeyboard\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t}\n\n\tonDimensionsChange() {\n\t\tthis.onSetMaxHeight();\n\t\tthis.setState( { bounces: false } );\n\t}\n\n\tonHeaderLayout( { nativeEvent } ) {\n\t\tconst { height } = nativeEvent.layout;\n\t\t// The layout animation should only be triggered if the header\n\t\t// height has changed after being mounted.\n\t\tif ( this.headerHeight !== 0 && height !== this.headerHeight ) {\n\t\t\tthis.performRegularLayoutAnimation( {\n\t\t\t\tuseLastLayoutAnimation: true,\n\t\t\t} );\n\t\t}\n\t\tthis.headerHeight = height;\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tisCloseToBottom( { layoutMeasurement, contentOffset, contentSize } ) {\n\t\treturn (\n\t\t\tlayoutMeasurement.height + contentOffset.y >=\n\t\t\tcontentSize.height - contentOffset.y\n\t\t);\n\t}\n\n\tisCloseToTop( { contentOffset } ) {\n\t\treturn contentOffset.y < 10;\n\t}\n\n\tonScroll( { nativeEvent } ) {\n\t\tif ( this.isCloseToTop( nativeEvent ) ) {\n\t\t\tthis.setState( { bounces: false } );\n\t\t} else {\n\t\t\tthis.setState( { bounces: true } );\n\t\t}\n\t}\n\n\tonDismiss() {\n\t\tconst { onDismiss } = this.props;\n\n\t\tif ( onDismiss ) {\n\t\t\tonDismiss();\n\t\t}\n\n\t\tthis.onCloseBottomSheet();\n\t}\n\n\tonShouldEnableScroll( value ) {\n\t\tthis.setState( { scrollEnabled: value } );\n\t}\n\n\tonShouldSetBottomSheetMaxHeight( value ) {\n\t\tthis.setState( { isMaxHeightSet: value } );\n\t}\n\n\tisScrolling( value ) {\n\t\tthis.setState( { isScrolling: value } );\n\t}\n\n\tonHandleClosingBottomSheet( action ) {\n\t\tthis.setState( { handleClosingBottomSheet: action } );\n\t}\n\n\tonHandleHardwareButtonPress( action ) {\n\t\tthis.setState( { handleHardwareButtonPress: action } );\n\t}\n\n\tonCloseBottomSheet() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleClosingBottomSheet } = this.state;\n\t\tif ( handleClosingBottomSheet ) {\n\t\t\thandleClosingBottomSheet();\n\t\t\tthis.onHandleClosingBottomSheet( null );\n\t\t}\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t\tthis.onShouldSetBottomSheetMaxHeight( true );\n\t}\n\n\tsetIsFullScreen( isFullScreen ) {\n\t\tif ( isFullScreen !== this.state.isFullScreen ) {\n\t\t\tif ( isFullScreen ) {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: false } );\n\t\t\t} else {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: true } );\n\t\t\t}\n\t\t}\n\t}\n\n\tonHardwareButtonPress() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleHardwareButtonPress } = this.state;\n\t\tif ( handleHardwareButtonPress && handleHardwareButtonPress() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onClose ) {\n\t\t\treturn onClose();\n\t\t}\n\t}\n\n\tgetContentStyle() {\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\treturn {\n\t\t\tpaddingBottom:\n\t\t\t\t( safeAreaBottomInset || 0 ) +\n\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle = '',\n\t\t\tisVisible,\n\t\t\tleftButton,\n\t\t\trightButton,\n\t\t\theader,\n\t\t\thideHeader,\n\t\t\tstyle = {},\n\t\t\tcontentStyle = {},\n\t\t\tgetStylesFromColorScheme,\n\t\t\tchildren,\n\t\t\twithHeaderSeparator = false,\n\t\t\thasNavigation,\n\t\t\t...rest\n\t\t} = this.props;\n\t\tconst {\n\t\t\tmaxHeight,\n\t\t\tbounces,\n\t\t\tsafeAreaBottomInset,\n\t\t\tsafeAreaTopInset,\n\t\t\tisScrolling,\n\t\t\tscrollEnabled,\n\t\t\tisMaxHeightSet,\n\t\t\tisFullScreen,\n\t\t} = this.state;\n\n\t\tconst panResponder = PanResponder.create( {\n\t\t\tonMoveShouldSetPanResponder: ( evt, gestureState ) => {\n\t\t\t\t// 'swiping-to-close' option is temporarily and partially disabled\n\t\t\t\t//\ton Android ( swipe / drag is still available in the top most area - near drag indicator)\n\t\t\t\tif ( Platform.OS === 'ios' ) {\n\t\t\t\t\t// Activates swipe down over child Touchables if the swipe is long enough.\n\t\t\t\t\t// With this we can adjust sensibility on the swipe vs tap gestures.\n\t\t\t\t\tif ( gestureState.dy > 3 && ! bounces ) {\n\t\t\t\t\t\tgestureState.dy = 0;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t} );\n\n\t\tconst backgroundStyle = getStylesFromColorScheme(\n\t\t\tstyles.background,\n\t\t\tstyles.backgroundDark\n\t\t);\n\n\t\tconst bottomSheetHeaderTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.bottomSheetHeaderTitle,\n\t\t\tstyles.bottomSheetHeaderTitleDark\n\t\t);\n\n\t\tlet listStyle = {};\n\t\tif ( isFullScreen ) {\n\t\t\tlistStyle = { flexGrow: 1 };\n\t\t} else if ( isMaxHeightSet ) {\n\t\t\tlistStyle = { maxHeight };\n\n\t\t\t// Allow setting a \"static\" height of the bottom sheet\n\t\t\t// by settting the min height to the max height.\n\t\t\tif ( this.props.setMinHeightToMaxHeight ) {\n\t\t\t\tlistStyle.minHeight = maxHeight;\n\t\t\t}\n\t\t}\n\n\t\tconst listProps = {\n\t\t\tdisableScrollViewPanResponder: true,\n\t\t\tbounces,\n\t\t\tonScroll: this.onScroll,\n\t\t\tonScrollBeginDrag: this.onScrollBeginDrag,\n\t\t\tonScrollEndDrag: this.onScrollEndDrag,\n\t\t\tscrollEventThrottle: 16,\n\t\t\tcontentContainerStyle: [\n\t\t\t\tstyles.content,\n\t\t\t\thideHeader && styles.emptyHeader,\n\t\t\t\tcontentStyle,\n\t\t\t\tisFullScreen && { flexGrow: 1 },\n\t\t\t],\n\t\t\tstyle: listStyle,\n\t\t\tsafeAreaBottomInset,\n\t\t\tscrollEnabled,\n\t\t\tautomaticallyAdjustContentInsets: false,\n\t\t};\n\n\t\tconst WrapperView = hasNavigation ? View : ScrollView;\n\n\t\tconst getHeader = () => (\n\t\t\t<>\n\t\t\t\t{ header || (\n\t\t\t\t\t<View style={ styles.bottomSheetHeader }>\n\t\t\t\t\t\t<View style={ styles.flex }>{ leftButton }</View>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ bottomSheetHeaderTitleStyle }\n\t\t\t\t\t\t\tmaxFontSizeMultiplier={ 3 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View style={ styles.flex }>{ rightButton }</View>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\t\t\t\t{ withHeaderSeparator && <View style={ styles.separator } /> }\n\t\t\t</>\n\t\t);\n\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tisVisible={ isVisible }\n\t\t\t\tstyle={ styles.bottomModal }\n\t\t\t\tanimationInTiming={ 400 }\n\t\t\t\tanimationOutTiming={ 300 }\n\t\t\t\tbackdropTransitionInTiming={ 50 }\n\t\t\t\tbackdropTransitionOutTiming={ 50 }\n\t\t\t\tbackdropOpacity={ 0.2 }\n\t\t\t\tonBackdropPress={ this.onCloseBottomSheet }\n\t\t\t\tonBackButtonPress={ this.onHardwareButtonPress }\n\t\t\t\tonSwipeComplete={ this.onCloseBottomSheet }\n\t\t\t\tonDismiss={ Platform.OS === 'ios' ? this.onDismiss : undefined }\n\t\t\t\tonModalHide={\n\t\t\t\t\tPlatform.OS === 'android' ? this.onDismiss : undefined\n\t\t\t\t}\n\t\t\t\tswipeDirection=\"down\"\n\t\t\t\tonMoveShouldSetResponder={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponder\n\t\t\t\t}\n\t\t\t\tonMoveShouldSetResponderCapture={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponderCapture\n\t\t\t\t}\n\t\t\t\tonAccessibilityEscape={ this.onCloseBottomSheet }\n\t\t\t\t// We need to prevent overwriting the onDismiss prop,\n\t\t\t\t// for this reason it is excluded from the rest object.\n\t\t\t\t{ ...omit( rest, 'onDismiss' ) }\n\t\t\t>\n\t\t\t\t<KeyboardAvoidingView\n\t\t\t\t\tbehavior={ Platform.OS === 'ios' && 'padding' }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...backgroundStyle,\n\t\t\t\t\t\tborderColor: 'rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\tPlatform.OS === 'ios' && isFullScreen\n\t\t\t\t\t\t\t\t? safeAreaTopInset\n\t\t\t\t\t\t\t\t: 0,\n\t\t\t\t\t\tflex: isFullScreen ? 1 : undefined,\n\t\t\t\t\t\t...( Platform.OS === 'android' && isFullScreen\n\t\t\t\t\t\t\t? styles.backgroundFullScreen\n\t\t\t\t\t\t\t: {} ),\n\t\t\t\t\t\t...style,\n\t\t\t\t\t} }\n\t\t\t\t\tkeyboardVerticalOffset={ -safeAreaBottomInset }\n\t\t\t\t>\n\t\t\t\t\t<View onLayout={ this.onHeaderLayout }>\n\t\t\t\t\t\t{ ! ( Platform.OS === 'android' && isFullScreen ) && (\n\t\t\t\t\t\t\t<View style={ styles.dragIndicator } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hideHeader && getHeader() }\n\t\t\t\t\t</View>\n\t\t\t\t\t<WrapperView\n\t\t\t\t\t\t{ ...( hasNavigation\n\t\t\t\t\t\t\t? { style: listProps.style }\n\t\t\t\t\t\t\t: listProps ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BottomSheetProvider\n\t\t\t\t\t\t\tvalue={ {\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll: this\n\t\t\t\t\t\t\t\t\t.onShouldEnableScroll,\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight: this\n\t\t\t\t\t\t\t\t\t.onShouldSetBottomSheetMaxHeight,\n\t\t\t\t\t\t\t\tisBottomSheetContentScrolling: isScrolling,\n\t\t\t\t\t\t\t\tonHandleClosingBottomSheet: this\n\t\t\t\t\t\t\t\t\t.onHandleClosingBottomSheet,\n\t\t\t\t\t\t\t\tonHandleHardwareButtonPress: this\n\t\t\t\t\t\t\t\t\t.onHandleHardwareButtonPress,\n\t\t\t\t\t\t\t\tlistProps,\n\t\t\t\t\t\t\t\tsetIsFullScreen: this.setIsFullScreen,\n\t\t\t\t\t\t\t\tsafeAreaBottomInset,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasNavigation ? (\n\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TouchableHighlight accessible={ false }>\n\t\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t\t</TouchableHighlight>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BottomSheetProvider>\n\t\t\t\t\t\t{ ! hasNavigation && (\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\theight:\n\t\t\t\t\t\t\t\t\t\tsafeAreaBottomInset ||\n\t\t\t\t\t\t\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</WrapperView>\n\t\t\t\t</KeyboardAvoidingView>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nfunction getWidth() {\n\treturn Math.min(\n\t\tDimensions.get( 'window' ).width,\n\t\tstyles.background.maxWidth\n\t);\n}\n\nconst ThemedBottomSheet = withPreferredColorScheme( BottomSheet );\n\nThemedBottomSheet.getWidth = getWidth;\nThemedBottomSheet.Button = Button;\nThemedBottomSheet.Cell = Cell;\nThemedBottomSheet.SubSheet = BottomSheetSubSheet;\nThemedBottomSheet.NavigationHeader = NavigationHeader;\nThemedBottomSheet.CyclePickerCell = CyclePickerCell;\nThemedBottomSheet.PickerCell = PickerCell;\nThemedBottomSheet.SwitchCell = SwitchCell;\nThemedBottomSheet.RangeCell = RangeCell;\nThemedBottomSheet.ColorCell = ColorCell;\nThemedBottomSheet.LinkCell = LinkCell;\nThemedBottomSheet.LinkSuggestionItemCell = LinkSuggestionItemCell;\nThemedBottomSheet.RadioCell = RadioCell;\nThemedBottomSheet.NavigationScreen = NavigationScreen;\nThemedBottomSheet.NavigationContainer = NavigationContainer;\n\nexport default ThemedBottomSheet;\n"]}