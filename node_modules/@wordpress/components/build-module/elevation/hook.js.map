{"version":3,"sources":["@wordpress/components/src/elevation/hook.js"],"names":["css","cx","isNil","useMemo","useContextSystem","styles","CONFIG","getBoxShadow","value","boxShadowColor","boxShadow","useElevation","props","active","borderRadius","className","focus","hover","isInteractive","offset","otherProps","classes","hoverValue","activeValue","undefined","transition","transitionDuration","transitionTimingFunction","sx","Base","bottom","opacity","elevationIntensity","left","right","top","Elevation"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\n// Disable reason: Temporarily disable for existing usages\n// until we remove them as part of https://github.com/WordPress/gutenberg/issues/30503#deprecating-emotion-css\n// eslint-disable-next-line no-restricted-imports\nimport { css, cx } from '@emotion/css';\nimport { isNil } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { useContextSystem } from '../ui/context';\nimport * as styles from './styles';\nimport CONFIG from '../utils/config-values';\n\n/**\n * @param {number} value\n * @return {string} The box shadow value.\n */\nexport function getBoxShadow( value ) {\n\tconst boxShadowColor = `rgba(0 ,0, 0, ${ value / 20 })`;\n\tconst boxShadow = `0 ${ value }px ${ value * 2 }px 0\n\t${ boxShadowColor }`;\n\n\treturn boxShadow;\n}\n\n/**\n * @param {import('../ui/context').PolymorphicComponentProps<import('./types').Props, 'div'>} props\n */\nexport function useElevation( props ) {\n\tconst {\n\t\tactive,\n\t\tborderRadius = 'inherit',\n\t\tclassName,\n\t\tfocus,\n\t\thover,\n\t\tisInteractive = false,\n\t\toffset = 0,\n\t\tvalue = 0,\n\t\t...otherProps\n\t} = useContextSystem( props, 'Elevation' );\n\n\tconst classes = useMemo( () => {\n\t\t/** @type {number | undefined} */\n\t\tlet hoverValue = ! isNil( hover ) ? hover : value * 2;\n\t\t/** @type {number | undefined} */\n\t\tlet activeValue = ! isNil( active ) ? active : value / 2;\n\n\t\tif ( ! isInteractive ) {\n\t\t\thoverValue = ! isNil( hover ) ? hover : undefined;\n\t\t\tactiveValue = ! isNil( active ) ? active : undefined;\n\t\t}\n\n\t\tconst transition = `box-shadow ${ CONFIG.transitionDuration } ${ CONFIG.transitionTimingFunction }`;\n\n\t\tconst sx = {};\n\n\t\tsx.Base = css( {\n\t\t\tborderRadius,\n\t\t\tbottom: offset,\n\t\t\tboxShadow: getBoxShadow( value ),\n\t\t\topacity: CONFIG.elevationIntensity,\n\t\t\tleft: offset,\n\t\t\tright: offset,\n\t\t\ttop: offset,\n\t\t\ttransition,\n\t\t} );\n\n\t\tif ( ! isNil( hoverValue ) ) {\n\t\t\tsx.hover = css`\n\t\t\t\t*:hover > & {\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( hoverValue ) };\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\tif ( ! isNil( activeValue ) ) {\n\t\t\tsx.active = css`\n\t\t\t\t*:active > & {\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( activeValue ) };\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\tif ( ! isNil( focus ) ) {\n\t\t\tsx.focus = css`\n\t\t\t\t*:focus > & {\n\t\t\t\t\tbox-shadow: ${ getBoxShadow( focus ) };\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\n\t\treturn cx(\n\t\t\tstyles.Elevation,\n\t\t\tsx.Base,\n\t\t\tsx.hover && sx.hover,\n\t\t\tsx.focus && sx.focus,\n\t\t\tsx.active && sx.active,\n\t\t\tclassName\n\t\t);\n\t}, [\n\t\tactive,\n\t\tborderRadius,\n\t\tclassName,\n\t\tfocus,\n\t\thover,\n\t\tisInteractive,\n\t\toffset,\n\t\tvalue,\n\t] );\n\n\treturn { ...otherProps, className: classes, 'aria-hidden': true };\n}\n"]}