{"version":3,"sources":["@wordpress/components/src/range-control/rail.js"],"names":["RangeRail","disabled","marks","min","max","step","value","restProps","Marks","marksData","useMarks","map","mark","key","range","Array","isArray","count","Math","round","push","length","placedMarks","forEach","index","isFilled","offset","offsetStyle","style"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { isRTL } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport RangeMark from './mark';\nimport { MarksWrapper, Rail } from './styles/range-control-styles';\n\nexport default function RangeRail( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n\t...restProps\n} ) {\n\treturn (\n\t\t<>\n\t\t\t<Rail disabled={ disabled } { ...restProps } />\n\t\t\t{ marks && (\n\t\t\t\t<Marks\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tmarks={ marks }\n\t\t\t\t\tmin={ min }\n\t\t\t\t\tmax={ max }\n\t\t\t\t\tstep={ step }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction Marks( {\n\tdisabled = false,\n\tmarks = false,\n\tmin = 0,\n\tmax = 100,\n\tstep = 1,\n\tvalue = 0,\n} ) {\n\tconst marksData = useMarks( { marks, min, max, step, value } );\n\n\treturn (\n\t\t<MarksWrapper\n\t\t\taria-hidden=\"true\"\n\t\t\tclassName=\"components-range-control__marks\"\n\t\t>\n\t\t\t{ marksData.map( ( mark ) => (\n\t\t\t\t<RangeMark\n\t\t\t\t\t{ ...mark }\n\t\t\t\t\tkey={ mark.key }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t) ) }\n\t\t</MarksWrapper>\n\t);\n}\n\nfunction useMarks( { marks, min = 0, max = 100, step = 1, value = 0 } ) {\n\tif ( ! marks ) {\n\t\treturn [];\n\t}\n\n\tconst range = max - min;\n\tif ( ! Array.isArray( marks ) ) {\n\t\tmarks = [];\n\t\tconst count = 1 + Math.round( range / step );\n\t\twhile ( count > marks.push( { value: step * marks.length + min } ) );\n\t}\n\n\tconst placedMarks = [];\n\tmarks.forEach( ( mark, index ) => {\n\t\tif ( mark.value < min || mark.value > max ) {\n\t\t\treturn;\n\t\t}\n\t\tconst key = `mark-${ index }`;\n\t\tconst isFilled = mark.value <= value;\n\t\tconst offset = `${ ( ( mark.value - min ) / range ) * 100 }%`;\n\n\t\tconst offsetStyle = {\n\t\t\t[ isRTL() ? 'right' : 'left' ]: offset,\n\t\t};\n\n\t\tplacedMarks.push( {\n\t\t\t...mark,\n\t\t\tisFilled,\n\t\t\tkey,\n\t\t\tstyle: offsetStyle,\n\t\t} );\n\t} );\n\n\treturn placedMarks;\n}\n"]}