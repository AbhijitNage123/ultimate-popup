{"version":3,"sources":["@wordpress/components/src/snackbar/list.js"],"names":["SnackbarList","notices","className","children","onRemove","noop","isReducedMotion","refMap","WeakMap","transitions","notice","id","from","opacity","height","enter","item","next","get","offsetHeight","leave","immediate","removeNotice","map","key","props","style","ref","set","content"],"mappings":";;;;;;;;;AAWA;;;;AARA;;AACA;;AACA;;AAKA;;AAMA;;AAhBA;AACA;AACA;;AAKA;AACA;AACA;;AAIA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,YAAT,CAAuB;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,SAAX;AAAsBC,EAAAA,QAAtB;AAAgCC,EAAAA,QAAQ,GAAGC;AAA3C,CAAvB,EAA2E;AAC1E,QAAMC,eAAe,GAAG,gCAAxB;AACA,QAAM,CAAEC,MAAF,IAAa,uBAAU,MAAM,IAAIC,OAAJ,EAAhB,CAAnB;AACA,QAAMC,WAAW,GAAG,wBAAeR,OAAf,EAA0BS,MAAF,IAAcA,MAAM,CAACC,EAA7C,EAAiD;AACpEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,OAAO,EAAE,CAAX;AAAcC,MAAAA,MAAM,EAAE;AAAtB,KAD8D;AAEpEC,IAAAA,KAAK,EAAIC,IAAF,IAAY,OAAQC,IAAR,KAClB,MAAMA,IAAI,CAAE;AACXJ,MAAAA,OAAO,EAAE,CADE;AAEXC,MAAAA,MAAM,EAAEP,MAAM,CAACW,GAAP,CAAYF,IAAZ,EAAmBG;AAFhB,KAAF,CAHyD;AAOpEC,IAAAA,KAAK,EAAE,MAAM,MAAQH,IAAR,IAAkB;AAC9B,YAAMA,IAAI,CAAE;AAAEJ,QAAAA,OAAO,EAAE;AAAX,OAAF,CAAV;AACA,YAAMI,IAAI,CAAE;AAAEH,QAAAA,MAAM,EAAE;AAAV,OAAF,CAAV;AACA,KAVmE;AAWpEO,IAAAA,SAAS,EAAEf;AAXyD,GAAjD,CAApB;AAcAJ,EAAAA,SAAS,GAAG,yBAAY,0BAAZ,EAAwCA,SAAxC,CAAZ;;AACA,QAAMoB,YAAY,GAAKZ,MAAF,IAAc,MAAMN,QAAQ,CAAEM,MAAM,CAACC,EAAT,CAAjD;;AAEA,SACC;AAAK,IAAA,SAAS,EAAGT;AAAjB,KACGC,QADH,EAEGM,WAAW,CAACc,GAAZ,CAAiB,CAAE;AAAEP,IAAAA,IAAI,EAAEN,MAAR;AAAgBc,IAAAA,GAAhB;AAAqBC,IAAAA,KAAK,EAAEC;AAA5B,GAAF,KAClB,4BAAC,aAAD,CAAU,GAAV;AAAc,IAAA,GAAG,EAAGF,GAApB;AAA0B,IAAA,KAAK,EAAGE;AAAlC,KACC;AACC,IAAA,SAAS,EAAC,4CADX;AAEC,IAAA,GAAG,EAAKC,GAAF,IAAWA,GAAG,IAAIpB,MAAM,CAACqB,GAAP,CAAYlB,MAAZ,EAAoBiB,GAApB;AAFzB,KAIC,4BAAC,SAAD,6BACM,kBAAMjB,MAAN,EAAc,CAAE,SAAF,CAAd,CADN;AAEC,IAAA,QAAQ,EAAGY,YAAY,CAAEZ,MAAF;AAFxB,MAIGA,MAAM,CAACmB,OAJV,CAJD,CADD,CADC,CAFH,CADD;AAoBA;;eAEc7B,Y","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { omit, noop } from 'lodash';\nimport { useTransition, animated } from 'react-spring/web.cjs';\n\n/**\n * WordPress dependencies\n */\nimport { useReducedMotion } from '@wordpress/compose';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Snackbar from './';\n\n/**\n * Renders a list of notices.\n *\n * @param {Object}   $0           Props passed to the component.\n * @param {Array}    $0.notices   Array of notices to render.\n * @param {Function} $0.onRemove  Function called when a notice should be removed / dismissed.\n * @param {Object}   $0.className Name of the class used by the component.\n * @param {Object}   $0.children  Array of children to be rendered inside the notice list.\n *\n * @return {Object} The rendered notices list.\n */\nfunction SnackbarList( { notices, className, children, onRemove = noop } ) {\n\tconst isReducedMotion = useReducedMotion();\n\tconst [ refMap ] = useState( () => new WeakMap() );\n\tconst transitions = useTransition( notices, ( notice ) => notice.id, {\n\t\tfrom: { opacity: 0, height: 0 },\n\t\tenter: ( item ) => async ( next ) =>\n\t\t\tawait next( {\n\t\t\t\topacity: 1,\n\t\t\t\theight: refMap.get( item ).offsetHeight,\n\t\t\t} ),\n\t\tleave: () => async ( next ) => {\n\t\t\tawait next( { opacity: 0 } );\n\t\t\tawait next( { height: 0 } );\n\t\t},\n\t\timmediate: isReducedMotion,\n\t} );\n\n\tclassName = classnames( 'components-snackbar-list', className );\n\tconst removeNotice = ( notice ) => () => onRemove( notice.id );\n\n\treturn (\n\t\t<div className={ className }>\n\t\t\t{ children }\n\t\t\t{ transitions.map( ( { item: notice, key, props: style } ) => (\n\t\t\t\t<animated.div key={ key } style={ style }>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"components-snackbar-list__notice-container\"\n\t\t\t\t\t\tref={ ( ref ) => ref && refMap.set( notice, ref ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Snackbar\n\t\t\t\t\t\t\t{ ...omit( notice, [ 'content' ] ) }\n\t\t\t\t\t\t\tonRemove={ removeNotice( notice ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ notice.content }\n\t\t\t\t\t\t</Snackbar>\n\t\t\t\t\t</div>\n\t\t\t\t</animated.div>\n\t\t\t) ) }\n\t\t</div>\n\t);\n}\n\nexport default SnackbarList;\n"]}