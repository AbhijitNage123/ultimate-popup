{"version":3,"sources":["@wordpress/components/src/mobile/bottom-sheet/index.native.js"],"names":["DEFAULT_LAYOUT_ANIMATION","LayoutAnimation","Presets","easeInEaseOut","BottomSheet","Component","constructor","arguments","onSafeAreaInsetsUpdate","bind","onScroll","isScrolling","onShouldEnableScroll","onDismiss","onShouldSetBottomSheetMaxHeight","setIsFullScreen","onDimensionsChange","onHeaderLayout","onCloseBottomSheet","onHandleClosingBottomSheet","onHardwareButtonPress","onHandleHardwareButtonPress","keyboardShow","keyboardHide","headerHeight","keyboardHeight","lastLayoutAnimation","lastLayoutAnimationFinished","state","safeAreaBottomInset","safeAreaTopInset","bounces","maxHeight","scrollEnabled","handleClosingBottomSheet","handleHardwareButtonPress","isMaxHeightSet","isFullScreen","props","e","isVisible","height","endCoordinates","performKeyboardLayoutAnimation","onSetMaxHeight","onKeyboardShow","onKeyboardHide","event","duration","easing","animationConfig","type","Types","layoutAnimation","update","create","property","Properties","opacity","delete","configureNext","performRegularLayoutAnimation","useLastLayoutAnimation","Platform","OS","componentDidMount","SafeArea","getSafeAreaInsetsForRootView","then","androidModalClosedSubscription","onClose","Dimensions","addEventListener","keyboardShowListener","Keyboard","addListener","keyboardHideListener","safeAreaEventSubscription","componentWillUnmount","removeEventListener","remove","result","safeAreaInsets","bottom","top","setState","width","get","statusBarHeight","StatusBar","currentHeight","maxHeightWithOpenKeyboard","Math","min","nativeEvent","layout","isCloseToBottom","layoutMeasurement","contentOffset","contentSize","y","isCloseToTop","value","action","getContentStyle","paddingBottom","styles","scrollableContent","render","title","leftButton","rightButton","header","hideHeader","style","contentStyle","getStylesFromColorScheme","children","withHeaderSeparator","hasNavigation","rest","panResponder","PanResponder","onMoveShouldSetPanResponder","evt","gestureState","dy","backgroundStyle","background","backgroundDark","bottomSheetHeaderTitleStyle","bottomSheetHeaderTitle","bottomSheetHeaderTitleDark","listStyle","flexGrow","setMinHeightToMaxHeight","minHeight","listProps","disableScrollViewPanResponder","onScrollBeginDrag","onScrollEndDrag","scrollEventThrottle","contentContainerStyle","content","emptyHeader","automaticallyAdjustContentInsets","WrapperView","View","ScrollView","getHeader","bottomSheetHeader","flex","separator","bottomModal","undefined","panHandlers","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","borderColor","marginTop","backgroundFullScreen","dragIndicator","shouldEnableBottomSheetScroll","shouldEnableBottomSheetMaxHeight","isBottomSheetContentScrolling","getWidth","maxWidth","ThemedBottomSheet","Button","Cell","SubSheet","BottomSheetSubSheet","NavigationHeader","CyclePickerCell","PickerCell","SwitchCell","RangeCell","ColorCell","LinkCell","LinkSuggestionItemCell","RadioCell","NavigationScreen","NavigationContainer"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport {\n\tDimensions,\n\tKeyboard,\n\tLayoutAnimation,\n\tPanResponder,\n\tPlatform,\n\tScrollView,\n\tStatusBar,\n\tText,\n\tTouchableHighlight,\n\tView,\n} from 'react-native';\nimport Modal from 'react-native-modal';\nimport SafeArea from 'react-native-safe-area';\nimport { omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { subscribeAndroidModalClosed } from '@wordpress/react-native-bridge';\nimport { Component } from '@wordpress/element';\nimport { withPreferredColorScheme } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport styles from './styles.scss';\nimport Button from './button';\nimport Cell from './cell';\nimport CyclePickerCell from './cycle-picker-cell';\nimport PickerCell from './picker-cell';\nimport SwitchCell from './switch-cell';\nimport RangeCell from './range-cell';\nimport ColorCell from './color-cell';\nimport LinkCell from './link-cell';\nimport LinkSuggestionItemCell from './link-suggestion-item-cell';\nimport RadioCell from './radio-cell';\nimport NavigationScreen from './bottom-sheet-navigation/navigation-screen';\nimport NavigationContainer from './bottom-sheet-navigation/navigation-container';\nimport KeyboardAvoidingView from './keyboard-avoiding-view';\nimport BottomSheetSubSheet from './sub-sheet';\nimport NavigationHeader from './navigation-header';\nimport { BottomSheetProvider } from './bottom-sheet-context';\n\nconst DEFAULT_LAYOUT_ANIMATION = LayoutAnimation.Presets.easeInEaseOut;\n\nclass BottomSheet extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSafeAreaInsetsUpdate = this.onSafeAreaInsetsUpdate.bind( this );\n\t\tthis.onScroll = this.onScroll.bind( this );\n\t\tthis.isScrolling = this.isScrolling.bind( this );\n\t\tthis.onShouldEnableScroll = this.onShouldEnableScroll.bind( this );\n\t\tthis.onDismiss = this.onDismiss.bind( this );\n\t\tthis.onShouldSetBottomSheetMaxHeight = this.onShouldSetBottomSheetMaxHeight.bind(\n\t\t\tthis\n\t\t);\n\n\t\tthis.setIsFullScreen = this.setIsFullScreen.bind( this );\n\n\t\tthis.onDimensionsChange = this.onDimensionsChange.bind( this );\n\t\tthis.onHeaderLayout = this.onHeaderLayout.bind( this );\n\t\tthis.onCloseBottomSheet = this.onCloseBottomSheet.bind( this );\n\t\tthis.onHandleClosingBottomSheet = this.onHandleClosingBottomSheet.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.onHardwareButtonPress = this.onHardwareButtonPress.bind( this );\n\t\tthis.onHandleHardwareButtonPress = this.onHandleHardwareButtonPress.bind(\n\t\t\tthis\n\t\t);\n\t\tthis.keyboardShow = this.keyboardShow.bind( this );\n\t\tthis.keyboardHide = this.keyboardHide.bind( this );\n\n\t\tthis.headerHeight = 0;\n\t\tthis.keyboardHeight = 0;\n\t\tthis.lastLayoutAnimation = null;\n\t\tthis.lastLayoutAnimationFinished = false;\n\n\t\tthis.state = {\n\t\t\tsafeAreaBottomInset: 0,\n\t\t\tsafeAreaTopInset: 0,\n\t\t\tbounces: false,\n\t\t\tmaxHeight: 0,\n\t\t\tscrollEnabled: true,\n\t\t\tisScrolling: false,\n\t\t\thandleClosingBottomSheet: null,\n\t\t\thandleHardwareButtonPress: null,\n\t\t\tisMaxHeightSet: true,\n\t\t\tisFullScreen: this.props.isFullScreen || false,\n\t\t};\n\t}\n\n\tkeyboardShow( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { height } = e.endCoordinates;\n\t\tthis.keyboardHeight = height;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardShow?.();\n\t}\n\n\tkeyboardHide( e ) {\n\t\tif ( ! this.props.isVisible ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.keyboardHeight = 0;\n\t\tthis.performKeyboardLayoutAnimation( e );\n\t\tthis.onSetMaxHeight();\n\t\tthis.props.onKeyboardHide?.();\n\t}\n\n\tperformKeyboardLayoutAnimation( event ) {\n\t\tconst { duration, easing } = event;\n\n\t\tif ( duration && easing ) {\n\t\t\t// This layout animation is the same as the React Native's KeyboardAvoidingView component.\n\t\t\t// Reference: https://github.com/facebook/react-native/blob/266b21baf35e052ff28120f79c06c4f6dddc51a9/Libraries/Components/Keyboard/KeyboardAvoidingView.js#L119-L128\n\t\t\tconst animationConfig = {\n\t\t\t\t// We have to pass the duration equal to minimal accepted duration defined here: RCTLayoutAnimation.m\n\t\t\t\tduration: duration > 10 ? duration : 10,\n\t\t\t\ttype: LayoutAnimation.Types[ easing ] || 'keyboard',\n\t\t\t};\n\t\t\tconst layoutAnimation = {\n\t\t\t\tduration: animationConfig.duration,\n\t\t\t\tupdate: animationConfig,\n\t\t\t\tcreate: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t\tdelete: {\n\t\t\t\t\t...animationConfig,\n\t\t\t\t\tproperty: LayoutAnimation.Properties.opacity,\n\t\t\t\t},\n\t\t\t};\n\t\t\tthis.lastLayoutAnimationFinished = false;\n\t\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t\t} );\n\t\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t\t} else {\n\t\t\tthis.performRegularLayoutAnimation( {\n\t\t\t\tuseLastLayoutAnimation: false,\n\t\t\t} );\n\t\t}\n\t}\n\n\tperformRegularLayoutAnimation( { useLastLayoutAnimation } ) {\n\t\t// On Android, we should prevent triggering multiple layout animations at the same time because it can produce visual glitches.\n\t\tif (\n\t\t\tPlatform.OS === 'android' &&\n\t\t\tthis.lastLayoutAnimation &&\n\t\t\t! this.lastLayoutAnimationFinished\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutAnimation = useLastLayoutAnimation\n\t\t\t? this.lastLayoutAnimation || DEFAULT_LAYOUT_ANIMATION\n\t\t\t: DEFAULT_LAYOUT_ANIMATION;\n\n\t\tthis.lastLayoutAnimationFinished = false;\n\t\tLayoutAnimation.configureNext( layoutAnimation, () => {\n\t\t\tthis.lastLayoutAnimationFinished = true;\n\t\t} );\n\t\tthis.lastLayoutAnimation = layoutAnimation;\n\t}\n\n\tcomponentDidMount() {\n\t\tSafeArea.getSafeAreaInsetsForRootView().then(\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\n\t\tif ( Platform.OS === 'android' ) {\n\t\t\tthis.androidModalClosedSubscription = subscribeAndroidModalClosed(\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.onClose();\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tDimensions.addEventListener( 'change', this.onDimensionsChange );\n\n\t\t// 'Will' keyboard events are not available on Android.\n\t\t// Reference: https://reactnative.dev/docs/0.61/keyboard#addlistener\n\t\tthis.keyboardShowListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillShow' : 'keyboardDidShow',\n\t\t\tthis.keyboardShow\n\t\t);\n\t\tthis.keyboardHideListener = Keyboard.addListener(\n\t\t\tPlatform.OS === 'ios' ? 'keyboardWillHide' : 'keyboardDidHide',\n\t\t\tthis.keyboardHide\n\t\t);\n\n\t\tthis.safeAreaEventSubscription = SafeArea.addEventListener(\n\t\t\t'safeAreaInsetsForRootViewDidChange',\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tDimensions.removeEventListener( 'change', this.onDimensionsChange );\n\t\tthis.keyboardShowListener.remove();\n\t\tthis.keyboardHideListener.remove();\n\t\tif ( this.androidModalClosedSubscription ) {\n\t\t\tthis.androidModalClosedSubscription.remove();\n\t\t}\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.safeAreaEventSubscription.remove();\n\t\tthis.safeAreaEventSubscription = null;\n\t\tSafeArea.removeEventListener(\n\t\t\t'safeAreaInsetsForRootViewDidChange',\n\t\t\tthis.onSafeAreaInsetsUpdate\n\t\t);\n\t}\n\n\tonSafeAreaInsetsUpdate( result ) {\n\t\tconst { safeAreaBottomInset, safeAreaTopInset } = this.state;\n\t\tif ( this.safeAreaEventSubscription === null ) {\n\t\t\treturn;\n\t\t}\n\t\tconst { safeAreaInsets } = result;\n\t\tif (\n\t\t\tsafeAreaBottomInset !== safeAreaInsets.bottom ||\n\t\t\tsafeAreaTopInset !== safeAreaInsets.top\n\t\t) {\n\t\t\tthis.setState( {\n\t\t\t\tsafeAreaBottomInset: safeAreaInsets.bottom,\n\t\t\t\tsafeAreaTopInset: safeAreaInsets.top,\n\t\t\t} );\n\t\t}\n\t}\n\n\tonSetMaxHeight() {\n\t\tconst { height, width } = Dimensions.get( 'window' );\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\tconst statusBarHeight =\n\t\t\tPlatform.OS === 'android' ? StatusBar.currentHeight : 0;\n\n\t\t// `maxHeight` when modal is opened along with a keyboard\n\t\tconst maxHeightWithOpenKeyboard =\n\t\t\t0.95 *\n\t\t\t( Dimensions.get( 'window' ).height -\n\t\t\t\tthis.keyboardHeight -\n\t\t\t\tstatusBarHeight -\n\t\t\t\tthis.headerHeight );\n\n\t\t// On horizontal mode `maxHeight` has to be set on 90% of width\n\t\tif ( width > height ) {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min( 0.9 * height, maxHeightWithOpenKeyboard ),\n\t\t\t} );\n\t\t\t//\tOn vertical mode `maxHeight` has to be set on 50% of width\n\t\t} else {\n\t\t\tthis.setState( {\n\t\t\t\tmaxHeight: Math.min(\n\t\t\t\t\theight / 2 - safeAreaBottomInset,\n\t\t\t\t\tmaxHeightWithOpenKeyboard\n\t\t\t\t),\n\t\t\t} );\n\t\t}\n\t}\n\n\tonDimensionsChange() {\n\t\tthis.onSetMaxHeight();\n\t\tthis.setState( { bounces: false } );\n\t}\n\n\tonHeaderLayout( { nativeEvent } ) {\n\t\tconst { height } = nativeEvent.layout;\n\t\t// The layout animation should only be triggered if the header\n\t\t// height has changed after being mounted.\n\t\tif ( this.headerHeight !== 0 && height !== this.headerHeight ) {\n\t\t\tthis.performRegularLayoutAnimation( {\n\t\t\t\tuseLastLayoutAnimation: true,\n\t\t\t} );\n\t\t}\n\t\tthis.headerHeight = height;\n\t\tthis.onSetMaxHeight();\n\t}\n\n\tisCloseToBottom( { layoutMeasurement, contentOffset, contentSize } ) {\n\t\treturn (\n\t\t\tlayoutMeasurement.height + contentOffset.y >=\n\t\t\tcontentSize.height - contentOffset.y\n\t\t);\n\t}\n\n\tisCloseToTop( { contentOffset } ) {\n\t\treturn contentOffset.y < 10;\n\t}\n\n\tonScroll( { nativeEvent } ) {\n\t\tif ( this.isCloseToTop( nativeEvent ) ) {\n\t\t\tthis.setState( { bounces: false } );\n\t\t} else {\n\t\t\tthis.setState( { bounces: true } );\n\t\t}\n\t}\n\n\tonDismiss() {\n\t\tconst { onDismiss } = this.props;\n\n\t\tif ( onDismiss ) {\n\t\t\tonDismiss();\n\t\t}\n\n\t\tthis.onCloseBottomSheet();\n\t}\n\n\tonShouldEnableScroll( value ) {\n\t\tthis.setState( { scrollEnabled: value } );\n\t}\n\n\tonShouldSetBottomSheetMaxHeight( value ) {\n\t\tthis.setState( { isMaxHeightSet: value } );\n\t}\n\n\tisScrolling( value ) {\n\t\tthis.setState( { isScrolling: value } );\n\t}\n\n\tonHandleClosingBottomSheet( action ) {\n\t\tthis.setState( { handleClosingBottomSheet: action } );\n\t}\n\n\tonHandleHardwareButtonPress( action ) {\n\t\tthis.setState( { handleHardwareButtonPress: action } );\n\t}\n\n\tonCloseBottomSheet() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleClosingBottomSheet } = this.state;\n\t\tif ( handleClosingBottomSheet ) {\n\t\t\thandleClosingBottomSheet();\n\t\t\tthis.onHandleClosingBottomSheet( null );\n\t\t}\n\t\tif ( onClose ) {\n\t\t\tonClose();\n\t\t}\n\t\tthis.onShouldSetBottomSheetMaxHeight( true );\n\t}\n\n\tsetIsFullScreen( isFullScreen ) {\n\t\tif ( isFullScreen !== this.state.isFullScreen ) {\n\t\t\tif ( isFullScreen ) {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: false } );\n\t\t\t} else {\n\t\t\t\tthis.setState( { isFullScreen, isMaxHeightSet: true } );\n\t\t\t}\n\t\t}\n\t}\n\n\tonHardwareButtonPress() {\n\t\tconst { onClose } = this.props;\n\t\tconst { handleHardwareButtonPress } = this.state;\n\t\tif ( handleHardwareButtonPress && handleHardwareButtonPress() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( onClose ) {\n\t\t\treturn onClose();\n\t\t}\n\t}\n\n\tgetContentStyle() {\n\t\tconst { safeAreaBottomInset } = this.state;\n\t\treturn {\n\t\t\tpaddingBottom:\n\t\t\t\t( safeAreaBottomInset || 0 ) +\n\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t};\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\ttitle = '',\n\t\t\tisVisible,\n\t\t\tleftButton,\n\t\t\trightButton,\n\t\t\theader,\n\t\t\thideHeader,\n\t\t\tstyle = {},\n\t\t\tcontentStyle = {},\n\t\t\tgetStylesFromColorScheme,\n\t\t\tchildren,\n\t\t\twithHeaderSeparator = false,\n\t\t\thasNavigation,\n\t\t\t...rest\n\t\t} = this.props;\n\t\tconst {\n\t\t\tmaxHeight,\n\t\t\tbounces,\n\t\t\tsafeAreaBottomInset,\n\t\t\tsafeAreaTopInset,\n\t\t\tisScrolling,\n\t\t\tscrollEnabled,\n\t\t\tisMaxHeightSet,\n\t\t\tisFullScreen,\n\t\t} = this.state;\n\n\t\tconst panResponder = PanResponder.create( {\n\t\t\tonMoveShouldSetPanResponder: ( evt, gestureState ) => {\n\t\t\t\t// 'swiping-to-close' option is temporarily and partially disabled\n\t\t\t\t//\ton Android ( swipe / drag is still available in the top most area - near drag indicator)\n\t\t\t\tif ( Platform.OS === 'ios' ) {\n\t\t\t\t\t// Activates swipe down over child Touchables if the swipe is long enough.\n\t\t\t\t\t// With this we can adjust sensibility on the swipe vs tap gestures.\n\t\t\t\t\tif ( gestureState.dy > 3 && ! bounces ) {\n\t\t\t\t\t\tgestureState.dy = 0;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t} );\n\n\t\tconst backgroundStyle = getStylesFromColorScheme(\n\t\t\tstyles.background,\n\t\t\tstyles.backgroundDark\n\t\t);\n\n\t\tconst bottomSheetHeaderTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.bottomSheetHeaderTitle,\n\t\t\tstyles.bottomSheetHeaderTitleDark\n\t\t);\n\n\t\tlet listStyle = {};\n\t\tif ( isFullScreen ) {\n\t\t\tlistStyle = { flexGrow: 1 };\n\t\t} else if ( isMaxHeightSet ) {\n\t\t\tlistStyle = { maxHeight };\n\n\t\t\t// Allow setting a \"static\" height of the bottom sheet\n\t\t\t// by settting the min height to the max height.\n\t\t\tif ( this.props.setMinHeightToMaxHeight ) {\n\t\t\t\tlistStyle.minHeight = maxHeight;\n\t\t\t}\n\t\t}\n\n\t\tconst listProps = {\n\t\t\tdisableScrollViewPanResponder: true,\n\t\t\tbounces,\n\t\t\tonScroll: this.onScroll,\n\t\t\tonScrollBeginDrag: this.onScrollBeginDrag,\n\t\t\tonScrollEndDrag: this.onScrollEndDrag,\n\t\t\tscrollEventThrottle: 16,\n\t\t\tcontentContainerStyle: [\n\t\t\t\tstyles.content,\n\t\t\t\thideHeader && styles.emptyHeader,\n\t\t\t\tcontentStyle,\n\t\t\t\tisFullScreen && { flexGrow: 1 },\n\t\t\t],\n\t\t\tstyle: listStyle,\n\t\t\tsafeAreaBottomInset,\n\t\t\tscrollEnabled,\n\t\t\tautomaticallyAdjustContentInsets: false,\n\t\t};\n\n\t\tconst WrapperView = hasNavigation ? View : ScrollView;\n\n\t\tconst getHeader = () => (\n\t\t\t<>\n\t\t\t\t{ header || (\n\t\t\t\t\t<View style={ styles.bottomSheetHeader }>\n\t\t\t\t\t\t<View style={ styles.flex }>{ leftButton }</View>\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tstyle={ bottomSheetHeaderTitleStyle }\n\t\t\t\t\t\t\tmaxFontSizeMultiplier={ 3 }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t<View style={ styles.flex }>{ rightButton }</View>\n\t\t\t\t\t</View>\n\t\t\t\t) }\n\t\t\t\t{ withHeaderSeparator && <View style={ styles.separator } /> }\n\t\t\t</>\n\t\t);\n\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\tisVisible={ isVisible }\n\t\t\t\tstyle={ styles.bottomModal }\n\t\t\t\tanimationInTiming={ 400 }\n\t\t\t\tanimationOutTiming={ 300 }\n\t\t\t\tbackdropTransitionInTiming={ 50 }\n\t\t\t\tbackdropTransitionOutTiming={ 50 }\n\t\t\t\tbackdropOpacity={ 0.2 }\n\t\t\t\tonBackdropPress={ this.onCloseBottomSheet }\n\t\t\t\tonBackButtonPress={ this.onHardwareButtonPress }\n\t\t\t\tonSwipeComplete={ this.onCloseBottomSheet }\n\t\t\t\tonDismiss={ Platform.OS === 'ios' ? this.onDismiss : undefined }\n\t\t\t\tonModalHide={\n\t\t\t\t\tPlatform.OS === 'android' ? this.onDismiss : undefined\n\t\t\t\t}\n\t\t\t\tswipeDirection=\"down\"\n\t\t\t\tonMoveShouldSetResponder={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponder\n\t\t\t\t}\n\t\t\t\tonMoveShouldSetResponderCapture={\n\t\t\t\t\tscrollEnabled &&\n\t\t\t\t\tpanResponder.panHandlers.onMoveShouldSetResponderCapture\n\t\t\t\t}\n\t\t\t\tonAccessibilityEscape={ this.onCloseBottomSheet }\n\t\t\t\t// We need to prevent overwriting the onDismiss prop,\n\t\t\t\t// for this reason it is excluded from the rest object.\n\t\t\t\t{ ...omit( rest, 'onDismiss' ) }\n\t\t\t>\n\t\t\t\t<KeyboardAvoidingView\n\t\t\t\t\tbehavior={ Platform.OS === 'ios' && 'padding' }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t...backgroundStyle,\n\t\t\t\t\t\tborderColor: 'rgba(0, 0, 0, 0.1)',\n\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\tPlatform.OS === 'ios' && isFullScreen\n\t\t\t\t\t\t\t\t? safeAreaTopInset\n\t\t\t\t\t\t\t\t: 0,\n\t\t\t\t\t\tflex: isFullScreen ? 1 : undefined,\n\t\t\t\t\t\t...( Platform.OS === 'android' && isFullScreen\n\t\t\t\t\t\t\t? styles.backgroundFullScreen\n\t\t\t\t\t\t\t: {} ),\n\t\t\t\t\t\t...style,\n\t\t\t\t\t} }\n\t\t\t\t\tkeyboardVerticalOffset={ -safeAreaBottomInset }\n\t\t\t\t>\n\t\t\t\t\t<View onLayout={ this.onHeaderLayout }>\n\t\t\t\t\t\t{ ! ( Platform.OS === 'android' && isFullScreen ) && (\n\t\t\t\t\t\t\t<View style={ styles.dragIndicator } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hideHeader && getHeader() }\n\t\t\t\t\t</View>\n\t\t\t\t\t<WrapperView\n\t\t\t\t\t\t{ ...( hasNavigation\n\t\t\t\t\t\t\t? { style: listProps.style }\n\t\t\t\t\t\t\t: listProps ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BottomSheetProvider\n\t\t\t\t\t\t\tvalue={ {\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetScroll: this\n\t\t\t\t\t\t\t\t\t.onShouldEnableScroll,\n\t\t\t\t\t\t\t\tshouldEnableBottomSheetMaxHeight: this\n\t\t\t\t\t\t\t\t\t.onShouldSetBottomSheetMaxHeight,\n\t\t\t\t\t\t\t\tisBottomSheetContentScrolling: isScrolling,\n\t\t\t\t\t\t\t\tonHandleClosingBottomSheet: this\n\t\t\t\t\t\t\t\t\t.onHandleClosingBottomSheet,\n\t\t\t\t\t\t\t\tonHandleHardwareButtonPress: this\n\t\t\t\t\t\t\t\t\t.onHandleHardwareButtonPress,\n\t\t\t\t\t\t\t\tlistProps,\n\t\t\t\t\t\t\t\tsetIsFullScreen: this.setIsFullScreen,\n\t\t\t\t\t\t\t\tsafeAreaBottomInset,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ hasNavigation ? (\n\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TouchableHighlight accessible={ false }>\n\t\t\t\t\t\t\t\t\t<>{ children }</>\n\t\t\t\t\t\t\t\t</TouchableHighlight>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BottomSheetProvider>\n\t\t\t\t\t\t{ ! hasNavigation && (\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\t\theight:\n\t\t\t\t\t\t\t\t\t\tsafeAreaBottomInset ||\n\t\t\t\t\t\t\t\t\t\tstyles.scrollableContent.paddingBottom,\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</WrapperView>\n\t\t\t\t</KeyboardAvoidingView>\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nfunction getWidth() {\n\treturn Math.min(\n\t\tDimensions.get( 'window' ).width,\n\t\tstyles.background.maxWidth\n\t);\n}\n\nconst ThemedBottomSheet = withPreferredColorScheme( BottomSheet );\n\nThemedBottomSheet.getWidth = getWidth;\nThemedBottomSheet.Button = Button;\nThemedBottomSheet.Cell = Cell;\nThemedBottomSheet.SubSheet = BottomSheetSubSheet;\nThemedBottomSheet.NavigationHeader = NavigationHeader;\nThemedBottomSheet.CyclePickerCell = CyclePickerCell;\nThemedBottomSheet.PickerCell = PickerCell;\nThemedBottomSheet.SwitchCell = SwitchCell;\nThemedBottomSheet.RangeCell = RangeCell;\nThemedBottomSheet.ColorCell = ColorCell;\nThemedBottomSheet.LinkCell = LinkCell;\nThemedBottomSheet.LinkSuggestionItemCell = LinkSuggestionItemCell;\nThemedBottomSheet.RadioCell = RadioCell;\nThemedBottomSheet.NavigationScreen = NavigationScreen;\nThemedBottomSheet.NavigationContainer = NavigationContainer;\n\nexport default ThemedBottomSheet;\n"]}