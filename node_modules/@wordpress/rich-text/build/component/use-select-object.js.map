{"version":3,"sources":["@wordpress/rich-text/src/component/use-select-object.js"],"names":["useSelectObject","element","onClick","event","target","textContent","ownerDocument","defaultView","range","createRange","selection","getSelection","selectNode","removeAllRanges","addRange","addEventListener","removeEventListener"],"mappings":";;;;;;;AAGA;;AAHA;AACA;AACA;AAGO,SAASA,eAAT,GAA2B;AACjC,SAAO,2BAAgBC,OAAF,IAAe;AACnC,aAASC,OAAT,CAAkBC,KAAlB,EAA0B;AACzB,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAnB,CADyB,CAGzB;;AACA,UAAKC,MAAM,KAAKH,OAAX,IAAsBG,MAAM,CAACC,WAAlC,EAAgD;AAC/C;AACA;;AAED,YAAM;AAAEC,QAAAA;AAAF,UAAoBF,MAA1B;AACA,YAAM;AAAEG,QAAAA;AAAF,UAAkBD,aAAxB;AACA,YAAME,KAAK,GAAGF,aAAa,CAACG,WAAd,EAAd;AACA,YAAMC,SAAS,GAAGH,WAAW,CAACI,YAAZ,EAAlB;AAEAH,MAAAA,KAAK,CAACI,UAAN,CAAkBR,MAAlB;AACAM,MAAAA,SAAS,CAACG,eAAV;AACAH,MAAAA,SAAS,CAACI,QAAV,CAAoBN,KAApB;AACA;;AAEDP,IAAAA,OAAO,CAACc,gBAAR,CAA0B,OAA1B,EAAmCb,OAAnC;AACA,WAAO,MAAM;AACZD,MAAAA,OAAO,CAACe,mBAAR,CAA6B,OAA7B,EAAsCd,OAAtC;AACA,KAFD;AAGA,GAvBM,EAuBJ,EAvBI,CAAP;AAwBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useRefEffect } from '@wordpress/compose';\n\nexport function useSelectObject() {\n\treturn useRefEffect( ( element ) => {\n\t\tfunction onClick( event ) {\n\t\t\tconst { target } = event;\n\n\t\t\t// If the child element has no text content, it must be an object.\n\t\t\tif ( target === element || target.textContent ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { ownerDocument } = target;\n\t\t\tconst { defaultView } = ownerDocument;\n\t\t\tconst range = ownerDocument.createRange();\n\t\t\tconst selection = defaultView.getSelection();\n\n\t\t\trange.selectNode( target );\n\t\t\tselection.removeAllRanges();\n\t\t\tselection.addRange( range );\n\t\t}\n\n\t\telement.addEventListener( 'click', onClick );\n\t\treturn () => {\n\t\t\telement.removeEventListener( 'click', onClick );\n\t\t};\n\t}, [] );\n}\n"]}