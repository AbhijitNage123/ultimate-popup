"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _element = require("@wordpress/element");

var _isShallowEqual = _interopRequireDefault(require("@wordpress/is-shallow-equal"));

var _createHigherOrderComponent = _interopRequireDefault(require("../../utils/create-higher-order-component"));

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */

/**
 * Given a component returns the enhanced component augmented with a component
 * only rerendering when its props/state change
 */
const pure = (0, _createHigherOrderComponent.default)(Wrapped => {
  if (Wrapped.prototype instanceof _element.Component) {
    return class extends Wrapped {
      shouldComponentUpdate(nextProps, nextState) {
        return !(0, _isShallowEqual.default)(nextProps, this.props) || !(0, _isShallowEqual.default)(nextState, this.state);
      }

    };
  }

  return class extends _element.Component {
    shouldComponentUpdate(nextProps) {
      return !(0, _isShallowEqual.default)(nextProps, this.props);
    }

    render() {
      return (0, _element.createElement)(Wrapped, this.props);
    }

  };
}, 'pure');
var _default = pure;
exports.default = _default;
//# sourceMappingURL=index.js.map