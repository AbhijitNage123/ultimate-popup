{"version":3,"sources":["@wordpress/block-editor/src/store/controls.js"],"names":["createRegistryControl","store","blockEditorStore","__unstableMarkAutomaticChangeFinalControl","type","controls","SLEEP","duration","Promise","resolve","setTimeout","MARK_AUTOMATIC_CHANGE_FINAL_CONTROL","registry","requestIdleCallback","callback","window","dispatch","__unstableMarkAutomaticChangeFinal"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,qBAAT,QAAsC,iBAAtC;AAEA;AACA;AACA;;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,UAA1C;AAEA,OAAO,MAAMC,yCAAyC,GAAG,YAAY;AACpE,SAAO;AACNC,IAAAA,IAAI,EAAE;AADA,GAAP;AAGA,CAJM;AAMP,MAAMC,QAAQ,GAAG;AAChBC,EAAAA,KAAK,CAAE;AAAEC,IAAAA;AAAF,GAAF,EAAiB;AACrB,WAAO,IAAIC,OAAJ,CAAeC,OAAF,IAAe;AAClCC,MAAAA,UAAU,CAAED,OAAF,EAAWF,QAAX,CAAV;AACA,KAFM,CAAP;AAGA,GALe;;AAOhBI,EAAAA,mCAAmC,EAAEX,qBAAqB,CACvDY,QAAF,IAAgB,MAAM;AACrB,UAAM;AACLC,MAAAA,mBAAmB,GAAKC,QAAF,IACrBJ,UAAU,CAAEI,QAAF,EAAY,GAAZ;AAFN,QAGFC,MAHJ;AAIAF,IAAAA,mBAAmB,CAAE,MACpBD,QAAQ,CACNI,QADF,CACYd,gBADZ,EAEEe,kCAFF,EADkB,CAAnB;AAKA,GAXwD;AAP1C,CAAjB;AAsBA,eAAeZ,QAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { createRegistryControl } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../store';\n\nexport const __unstableMarkAutomaticChangeFinalControl = function () {\n\treturn {\n\t\ttype: 'MARK_AUTOMATIC_CHANGE_FINAL_CONTROL',\n\t};\n};\n\nconst controls = {\n\tSLEEP( { duration } ) {\n\t\treturn new Promise( ( resolve ) => {\n\t\t\tsetTimeout( resolve, duration );\n\t\t} );\n\t},\n\n\tMARK_AUTOMATIC_CHANGE_FINAL_CONTROL: createRegistryControl(\n\t\t( registry ) => () => {\n\t\t\tconst {\n\t\t\t\trequestIdleCallback = ( callback ) =>\n\t\t\t\t\tsetTimeout( callback, 100 ),\n\t\t\t} = window;\n\t\t\trequestIdleCallback( () =>\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( blockEditorStore )\n\t\t\t\t\t.__unstableMarkAutomaticChangeFinal()\n\t\t\t);\n\t\t}\n\t),\n};\n\nexport default controls;\n"]}