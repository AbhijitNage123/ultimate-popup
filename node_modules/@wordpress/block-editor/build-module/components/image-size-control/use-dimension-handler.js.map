{"version":3,"sources":["@wordpress/block-editor/src/components/image-size-control/use-dimension-handler.js"],"names":["useEffect","useState","useDimensionHander","customHeight","customWidth","defaultHeight","defaultWidth","onChange","currentWidth","setCurrentWidth","currentHeight","setCurrentHeight","undefined","updateDimension","dimension","value","parseInt","updateDimensions","nextHeight","nextWidth","height","width"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,oBAApC;AAEA,eAAe,SAASC,kBAAT,CACdC,YADc,EAEdC,WAFc,EAGdC,aAHc,EAIdC,YAJc,EAKdC,QALc,EAMb;AAAA;;AACD,QAAM,CAAEC,YAAF,EAAgBC,eAAhB,IAAoCR,QAAQ,SACjDG,WADiD,aACjDA,WADiD,cACjDA,WADiD,GAClCE,YADkC,uCAClB,EADkB,CAAlD;AAGA,QAAM,CAAEI,aAAF,EAAiBC,gBAAjB,IAAsCV,QAAQ,UACnDE,YADmD,aACnDA,YADmD,cACnDA,YADmD,GACnCE,aADmC,yCAClB,EADkB,CAApD,CAJC,CAQD;AACA;AACA;;AACAL,EAAAA,SAAS,CAAE,MAAM;AAChB,QAAKI,WAAW,KAAKQ,SAAhB,IAA6BN,YAAY,KAAKM,SAAnD,EAA+D;AAC9DH,MAAAA,eAAe,CAAEH,YAAF,CAAf;AACA;;AACD,QAAKH,YAAY,KAAKS,SAAjB,IAA8BP,aAAa,KAAKO,SAArD,EAAiE;AAChED,MAAAA,gBAAgB,CAAEN,aAAF,CAAhB;AACA;AACD,GAPQ,EAON,CAAEC,YAAF,EAAgBD,aAAhB,CAPM,CAAT;;AASA,QAAMQ,eAAe,GAAG,CAAEC,SAAF,EAAaC,KAAb,KAAwB;AAC/C,QAAKD,SAAS,KAAK,OAAnB,EAA6B;AAC5BL,MAAAA,eAAe,CAAEM,KAAF,CAAf;AACA,KAFD,MAEO;AACNJ,MAAAA,gBAAgB,CAAEI,KAAF,CAAhB;AACA;;AACDR,IAAAA,QAAQ,CAAE;AACT,OAAEO,SAAF,GAAeC,KAAK,KAAK,EAAV,GAAeH,SAAf,GAA2BI,QAAQ,CAAED,KAAF,EAAS,EAAT;AADzC,KAAF,CAAR;AAGA,GATD;;AAWA,QAAME,gBAAgB,GAAG,CAAEC,UAAF,EAAcC,SAAd,KAA6B;AACrDR,IAAAA,gBAAgB,CAAEO,UAAF,aAAEA,UAAF,cAAEA,UAAF,GAAgBb,aAAhB,CAAhB;AACAI,IAAAA,eAAe,CAAEU,SAAF,aAAEA,SAAF,cAAEA,SAAF,GAAeb,YAAf,CAAf;AACAC,IAAAA,QAAQ,CAAE;AAAEa,MAAAA,MAAM,EAAEF,UAAV;AAAsBG,MAAAA,KAAK,EAAEF;AAA7B,KAAF,CAAR;AACA,GAJD;;AAMA,SAAO;AACNT,IAAAA,aADM;AAENF,IAAAA,YAFM;AAGNK,IAAAA,eAHM;AAINI,IAAAA;AAJM,GAAP;AAMA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useEffect, useState } from '@wordpress/element';\n\nexport default function useDimensionHander(\n\tcustomHeight,\n\tcustomWidth,\n\tdefaultHeight,\n\tdefaultWidth,\n\tonChange\n) {\n\tconst [ currentWidth, setCurrentWidth ] = useState(\n\t\tcustomWidth ?? defaultWidth ?? ''\n\t);\n\tconst [ currentHeight, setCurrentHeight ] = useState(\n\t\tcustomHeight ?? defaultHeight ?? ''\n\t);\n\n\t// When an image is first inserted, the default dimensions are initially\n\t// undefined. This effect updates the dimensions when the default values\n\t// come through.\n\tuseEffect( () => {\n\t\tif ( customWidth === undefined && defaultWidth !== undefined ) {\n\t\t\tsetCurrentWidth( defaultWidth );\n\t\t}\n\t\tif ( customHeight === undefined && defaultHeight !== undefined ) {\n\t\t\tsetCurrentHeight( defaultHeight );\n\t\t}\n\t}, [ defaultWidth, defaultHeight ] );\n\n\tconst updateDimension = ( dimension, value ) => {\n\t\tif ( dimension === 'width' ) {\n\t\t\tsetCurrentWidth( value );\n\t\t} else {\n\t\t\tsetCurrentHeight( value );\n\t\t}\n\t\tonChange( {\n\t\t\t[ dimension ]: value === '' ? undefined : parseInt( value, 10 ),\n\t\t} );\n\t};\n\n\tconst updateDimensions = ( nextHeight, nextWidth ) => {\n\t\tsetCurrentHeight( nextHeight ?? defaultHeight );\n\t\tsetCurrentWidth( nextWidth ?? defaultWidth );\n\t\tonChange( { height: nextHeight, width: nextWidth } );\n\t};\n\n\treturn {\n\t\tcurrentHeight,\n\t\tcurrentWidth,\n\t\tupdateDimension,\n\t\tupdateDimensions,\n\t};\n}\n"]}