{"version":3,"sources":["@wordpress/block-editor/src/components/block-navigation/dropdown.js"],"names":["Button","Dropdown","__","useSelect","forwardRef","listView","ListView","store","blockEditorStore","BlockNavigationDropdownToggle","isEnabled","onToggle","isOpen","innerRef","props","undefined","BlockNavigationDropdown","isDisabled","__experimentalFeatures","ref","hasBlocks","select","getBlockCount"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,uBAAjC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA;AACA;AACA;;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;;AAEA,SAASC,6BAAT,CAAwC;AACvCC,EAAAA,SADuC;AAEvCC,EAAAA,QAFuC;AAGvCC,EAAAA,MAHuC;AAIvCC,EAAAA,QAJuC;AAKvC,KAAGC;AALoC,CAAxC,EAMI;AACH,SACC,cAAC,MAAD,eACMA,KADN;AAEC,IAAA,GAAG,EAAGD,QAFP;AAGC,IAAA,IAAI,EAAGR,QAHR;AAIC,qBAAgBO,MAJjB;AAKC,qBAAc,MALf;AAMC,IAAA,OAAO,EAAGF,SAAS,GAAGC,QAAH,GAAcI;AACjC;AAPD;AAQC,IAAA,KAAK,EAAGb,EAAE,CAAE,WAAF,CARX;AASC,IAAA,SAAS,EAAC,+BATX;AAUC,qBAAgB,CAAEQ;AAVnB,KADD;AAcA;;AAED,SAASM,uBAAT,CACC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,sBAAd;AAAsC,KAAGJ;AAAzC,CADD,EAECK,GAFD,EAGE;AACD,QAAMC,SAAS,GAAGjB,SAAS,CACxBkB,MAAF,IAAc,CAAC,CAAEA,MAAM,CAAEb,gBAAF,CAAN,CAA2Bc,aAA3B,EADS,EAE1B,EAF0B,CAA3B;AAIA,QAAMZ,SAAS,GAAGU,SAAS,IAAI,CAAEH,UAAjC;AAEA,SACC,cAAC,QAAD;AACC,IAAA,gBAAgB,EAAC,wCADlB;AAEC,IAAA,QAAQ,EAAC,cAFV;AAGC,IAAA,YAAY,EAAG,CAAE;AAAEL,MAAAA,MAAF;AAAUD,MAAAA;AAAV,KAAF,KACd,cAAC,6BAAD,eACMG,KADN;AAEC,MAAA,QAAQ,EAAGK,GAFZ;AAGC,MAAA,MAAM,EAAGP,MAHV;AAIC,MAAA,QAAQ,EAAGD,QAJZ;AAKC,MAAA,SAAS,EAAGD;AALb,OAJF;AAYC,IAAA,aAAa,EAAG,MACf;AAAK,MAAA,SAAS,EAAC;AAAf,OACC;AAAG,MAAA,SAAS,EAAC;AAAb,OACGR,EAAE,CAAE,WAAF,CADL,CADD,EAKC,cAAC,QAAD;AACC,MAAA,gBAAgB,MADjB;AAEC,MAAA,wBAAwB,MAFzB;AAGC,MAAA,sBAAsB,EAAGgB;AAH1B,MALD;AAbF,IADD;AA4BA;;AAED,eAAed,UAAU,CAAEY,uBAAF,CAAzB","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { forwardRef } from '@wordpress/element';\nimport { listView } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport ListView from '../list-view';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockNavigationDropdownToggle( {\n\tisEnabled,\n\tonToggle,\n\tisOpen,\n\tinnerRef,\n\t...props\n} ) {\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ innerRef }\n\t\t\ticon={ listView }\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-haspopup=\"true\"\n\t\t\tonClick={ isEnabled ? onToggle : undefined }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'List view' ) }\n\t\t\tclassName=\"block-editor-block-navigation\"\n\t\t\taria-disabled={ ! isEnabled }\n\t\t/>\n\t);\n}\n\nfunction BlockNavigationDropdown(\n\t{ isDisabled, __experimentalFeatures, ...props },\n\tref\n) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( blockEditorStore ).getBlockCount(),\n\t\t[]\n\t);\n\tconst isEnabled = hasBlocks && ! isDisabled;\n\n\treturn (\n\t\t<Dropdown\n\t\t\tcontentClassName=\"block-editor-block-navigation__popover\"\n\t\t\tposition=\"bottom right\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<BlockNavigationDropdownToggle\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tinnerRef={ ref }\n\t\t\t\t\tisOpen={ isOpen }\n\t\t\t\t\tonToggle={ onToggle }\n\t\t\t\t\tisEnabled={ isEnabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ () => (\n\t\t\t\t<div className=\"block-editor-block-navigation__container\">\n\t\t\t\t\t<p className=\"block-editor-block-navigation__label\">\n\t\t\t\t\t\t{ __( 'List view' ) }\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ListView\n\t\t\t\t\t\tshowNestedBlocks\n\t\t\t\t\t\tshowOnlyCurrentHierarchy\n\t\t\t\t\t\t__experimentalFeatures={ __experimentalFeatures }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( BlockNavigationDropdown );\n"]}