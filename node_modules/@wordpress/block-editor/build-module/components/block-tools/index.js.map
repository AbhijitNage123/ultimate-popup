{"version":3,"sources":["@wordpress/block-editor/src/components/block-tools/index.js"],"names":["useSelect","useViewportMatch","Popover","InsertionPoint","BlockPopover","store","blockEditorStore","BlockContextualToolbar","usePopoverScroll","BlockTools","children","__unstableContentRef","isLargeViewport","hasFixedToolbar","select","getSettings"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,OAAT,QAAwB,uBAAxB;AAEA;AACA;AACA;;AACA,OAAOC,cAAP,MAA2B,mBAA3B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AACA,OAAOC,sBAAP,MAAmC,4BAAnC;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,UAAT,CAAqB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAArB,EAA0D;AACxE,QAAMC,eAAe,GAAGX,gBAAgB,CAAE,QAAF,CAAxC;AACA,QAAMY,eAAe,GAAGb,SAAS,CAC9Bc,MAAF,IAAcA,MAAM,CAAER,gBAAF,CAAN,CAA2BS,WAA3B,GAAyCF,eADvB,EAEhC,EAFgC,CAAjC;AAKA,SACC,cAAC,cAAD;AAAgB,IAAA,oBAAoB,EAAGF;AAAvC,KACG,CAAEE,eAAe,IAAI,CAAED,eAAvB,KACD,cAAC,sBAAD;AAAwB,IAAA,OAAO;AAA/B,IAFF,EAMC,cAAC,YAAD;AAAc,IAAA,oBAAoB,EAAGD;AAArC,IAND,EAQC,cAAC,OAAD,CAAS,IAAT;AACC,IAAA,IAAI,EAAC,eADN;AAEC,IAAA,GAAG,EAAGH,gBAAgB,CAAEG,oBAAF;AAFvB,IARD,EAYGD,QAZH,CADD;AAkBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useViewportMatch } from '@wordpress/compose';\nimport { Popover } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport InsertionPoint from './insertion-point';\nimport BlockPopover from './block-popover';\nimport { store as blockEditorStore } from '../../store';\nimport BlockContextualToolbar from './block-contextual-toolbar';\nimport { usePopoverScroll } from './use-popover-scroll';\n\n/**\n * Renders block tools (the block toolbar, select/navigation mode toolbar, the\n * insertion point and a slot for the inline rich text toolbar). Must be wrapped\n * around the block content and editor styles wrapper or iframe.\n *\n * @param {Object} $0                      Props.\n * @param {Object} $0.children             The block content and style container.\n * @param {Object} $0.__unstableContentRef Ref holding the content scroll container.\n */\nexport default function BlockTools( { children, __unstableContentRef } ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst hasFixedToolbar = useSelect(\n\t\t( select ) => select( blockEditorStore ).getSettings().hasFixedToolbar,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<InsertionPoint __unstableContentRef={ __unstableContentRef }>\n\t\t\t{ ( hasFixedToolbar || ! isLargeViewport ) && (\n\t\t\t\t<BlockContextualToolbar isFixed />\n\t\t\t) }\n\t\t\t{ /* Even if the toolbar is fixed, the block popover is still\n                 needed for navigation mode. */ }\n\t\t\t<BlockPopover __unstableContentRef={ __unstableContentRef } />\n\t\t\t{ /* Used for the inline rich text toolbar. */ }\n\t\t\t<Popover.Slot\n\t\t\t\tname=\"block-toolbar\"\n\t\t\t\tref={ usePopoverScroll( __unstableContentRef ) }\n\t\t\t/>\n\t\t\t{ children }\n\t\t\t{ /* Forward compatibility: a place to render block tools behind the\n                 content so it can be tabbed to properly. */ }\n\t\t</InsertionPoint>\n\t);\n}\n"]}