{"version":3,"sources":["@wordpress/block-editor/src/components/block-preview/auto.js"],"names":["Disabled","useResizeObserver","pure","BlockList","MemoizedBlockList","AutoBlockPreview","viewportWidth","__experimentalPadding","containerResizeListener","width","containerWidth","containtResizeListener","height","contentHeight","scale","transform","left","right","top"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,QAAT,QAAyB,uBAAzB;AACA,SAASC,iBAAT,EAA4BC,IAA5B,QAAwC,oBAAxC;AAEA;AACA;AACA;;AACA,OAAOC,SAAP,MAAsB,eAAtB,C,CAEA;;AACA,IAAIC,iBAAJ;;AAEA,SAASC,gBAAT,CAA2B;AAAEC,EAAAA,aAAF;AAAiBC,EAAAA;AAAjB,CAA3B,EAAsE;AACrE,QAAM,CACLC,uBADK,EAEL;AAAEC,IAAAA,KAAK,EAAEC;AAAT,GAFK,IAGFT,iBAAiB,EAHrB;AAIA,QAAM,CACLU,sBADK,EAEL;AAAEC,IAAAA,MAAM,EAAEC;AAAV,GAFK,IAGFZ,iBAAiB,EAHrB,CALqE,CAUrE;;AACAG,EAAAA,iBAAiB,GAAGA,iBAAiB,IAAIF,IAAI,CAAEC,SAAF,CAA7C;AAEA,QAAMW,KAAK,GACV,CAAEJ,cAAc,GAAG,IAAIH,qBAAvB,IAAiDD,aADlD;AAGA,SACC;AACC,IAAA,SAAS,EAAC,6DADX;AAEC,uBAFD;AAGC,IAAA,KAAK,EAAG;AACPM,MAAAA,MAAM,EAAEC,aAAa,GAAGC,KAAhB,GAAwB,IAAIP;AAD7B;AAHT,KAOGC,uBAPH,EAQC,cAAC,QAAD;AACC,IAAA,KAAK,EAAG;AACPO,MAAAA,SAAS,EAAG,SAASD,KAAO,GADrB;AAEPL,MAAAA,KAAK,EAAEH,aAFA;AAGPU,MAAAA,IAAI,EAAET,qBAHC;AAIPU,MAAAA,KAAK,EAAEV,qBAJA;AAKPW,MAAAA,GAAG,EAAEX;AALE,KADT;AAQC,IAAA,SAAS,EAAC;AARX,KAUGI,sBAVH,EAWC,cAAC,iBAAD,OAXD,CARD,CADD;AAwBA;;AAED,eAAeN,gBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Disabled } from '@wordpress/components';\nimport { useResizeObserver, pure } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport BlockList from '../block-list';\n\n// This is used to avoid rendering the block list if the sizes change.\nlet MemoizedBlockList;\n\nfunction AutoBlockPreview( { viewportWidth, __experimentalPadding } ) {\n\tconst [\n\t\tcontainerResizeListener,\n\t\t{ width: containerWidth },\n\t] = useResizeObserver();\n\tconst [\n\t\tcontaintResizeListener,\n\t\t{ height: contentHeight },\n\t] = useResizeObserver();\n\n\t// Initialize on render instead of module top level, to avoid circular dependency issues.\n\tMemoizedBlockList = MemoizedBlockList || pure( BlockList );\n\n\tconst scale =\n\t\t( containerWidth - 2 * __experimentalPadding ) / viewportWidth;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"block-editor-block-preview__container editor-styles-wrapper\"\n\t\t\taria-hidden\n\t\t\tstyle={ {\n\t\t\t\theight: contentHeight * scale + 2 * __experimentalPadding,\n\t\t\t} }\n\t\t>\n\t\t\t{ containerResizeListener }\n\t\t\t<Disabled\n\t\t\t\tstyle={ {\n\t\t\t\t\ttransform: `scale(${ scale })`,\n\t\t\t\t\twidth: viewportWidth,\n\t\t\t\t\tleft: __experimentalPadding,\n\t\t\t\t\tright: __experimentalPadding,\n\t\t\t\t\ttop: __experimentalPadding,\n\t\t\t\t} }\n\t\t\t\tclassName=\"block-editor-block-preview__content\"\n\t\t\t>\n\t\t\t\t{ containtResizeListener }\n\t\t\t\t<MemoizedBlockList />\n\t\t\t</Disabled>\n\t\t</div>\n\t);\n}\n\nexport default AutoBlockPreview;\n"]}