{"version":3,"sources":["@wordpress/block-editor/src/components/font-appearance-control/index.js"],"names":["CustomSelectControl","useMemo","__","sprintf","FONT_STYLES","name","value","FONT_WEIGHTS","FontAppearanceControl","props","onChange","hasFontStyles","hasFontWeights","fontStyle","fontWeight","hasStylesOrWeights","defaultOption","key","style","undefined","combineOptions","combinedOptions","forEach","styleName","styleValue","weightName","weightValue","optionName","push","styleOptions","weightOptions","selectOptions","options","currentSelection","find","option","getLabel","selectedItem"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { CustomSelectControl } from '@wordpress/components';\nimport { useMemo } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\n\nconst FONT_STYLES = [\n\t{\n\t\tname: __( 'Regular' ),\n\t\tvalue: 'normal',\n\t},\n\t{\n\t\tname: __( 'Italic' ),\n\t\tvalue: 'italic',\n\t},\n];\n\nconst FONT_WEIGHTS = [\n\t{\n\t\tname: __( 'Thin' ),\n\t\tvalue: '100',\n\t},\n\t{\n\t\tname: __( 'Extra Light' ),\n\t\tvalue: '200',\n\t},\n\t{\n\t\tname: __( 'Light' ),\n\t\tvalue: '300',\n\t},\n\t{\n\t\tname: __( 'Regular' ),\n\t\tvalue: '400',\n\t},\n\t{\n\t\tname: __( 'Medium' ),\n\t\tvalue: '500',\n\t},\n\t{\n\t\tname: __( 'Semi Bold' ),\n\t\tvalue: '600',\n\t},\n\t{\n\t\tname: __( 'Bold' ),\n\t\tvalue: '700',\n\t},\n\t{\n\t\tname: __( 'Extra Bold' ),\n\t\tvalue: '800',\n\t},\n\t{\n\t\tname: __( 'Black' ),\n\t\tvalue: '900',\n\t},\n];\n\n/**\n * Control to display unified font style and weight options.\n *\n * @param {Object} props Component props.\n *\n * @return {WPElement} Font appearance control.\n */\nexport default function FontAppearanceControl( props ) {\n\tconst {\n\t\tonChange,\n\t\thasFontStyles = true,\n\t\thasFontWeights = true,\n\t\tvalue: { fontStyle, fontWeight },\n\t} = props;\n\tconst hasStylesOrWeights = hasFontStyles || hasFontWeights;\n\tconst defaultOption = {\n\t\tkey: 'default',\n\t\tname: __( 'Default' ),\n\t\tstyle: { fontStyle: undefined, fontWeight: undefined },\n\t};\n\n\t// Combines both font style and weight options into a single dropdown.\n\tconst combineOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\n\t\tFONT_STYLES.forEach( ( { name: styleName, value: styleValue } ) => {\n\t\t\tFONT_WEIGHTS.forEach(\n\t\t\t\t( { name: weightName, value: weightValue } ) => {\n\t\t\t\t\tconst optionName =\n\t\t\t\t\t\tstyleValue === 'normal'\n\t\t\t\t\t\t\t? weightName\n\t\t\t\t\t\t\t: sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: Font weight name. 2: Font style name. */\n\t\t\t\t\t\t\t\t\t__( '%1$s %2$s' ),\n\t\t\t\t\t\t\t\t\tweightName,\n\t\t\t\t\t\t\t\t\tstyleName\n\t\t\t\t\t\t\t  );\n\n\t\t\t\t\tcombinedOptions.push( {\n\t\t\t\t\t\tkey: `${ styleValue }-${ weightValue }`,\n\t\t\t\t\t\tname: optionName,\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\tfontStyle: styleValue,\n\t\t\t\t\t\t\tfontWeight: weightValue,\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t);\n\t\t} );\n\n\t\treturn combinedOptions;\n\t};\n\n\t// Generates select options for font styles only.\n\tconst styleOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\t\tFONT_STYLES.forEach( ( { name, value } ) => {\n\t\t\tcombinedOptions.push( {\n\t\t\t\tkey: value,\n\t\t\t\tname,\n\t\t\t\tstyle: { fontStyle: value, fontWeight: undefined },\n\t\t\t} );\n\t\t} );\n\t\treturn combinedOptions;\n\t};\n\n\t// Generates select options for font weights only.\n\tconst weightOptions = () => {\n\t\tconst combinedOptions = [ defaultOption ];\n\t\tFONT_WEIGHTS.forEach( ( { name, value } ) => {\n\t\t\tcombinedOptions.push( {\n\t\t\t\tkey: value,\n\t\t\t\tname,\n\t\t\t\tstyle: { fontStyle: undefined, fontWeight: value },\n\t\t\t} );\n\t\t} );\n\t\treturn combinedOptions;\n\t};\n\n\t// Map font styles and weights to select options.\n\tconst selectOptions = useMemo( () => {\n\t\tif ( hasFontStyles && hasFontWeights ) {\n\t\t\treturn combineOptions();\n\t\t}\n\n\t\treturn hasFontStyles ? styleOptions() : weightOptions();\n\t}, [ props.options ] );\n\n\t// Find current selection by comparing font style & weight against options.\n\tconst currentSelection = selectOptions.find(\n\t\t( option ) =>\n\t\t\toption.style.fontStyle === fontStyle &&\n\t\t\toption.style.fontWeight === fontWeight\n\t);\n\n\t// Adjusts field label in case either styles or weights are disabled.\n\tconst getLabel = () => {\n\t\tif ( ! hasFontStyles ) {\n\t\t\treturn __( 'Font weight' );\n\t\t}\n\n\t\tif ( ! hasFontWeights ) {\n\t\t\treturn __( 'Font style' );\n\t\t}\n\n\t\treturn __( 'Appearance' );\n\t};\n\n\treturn (\n\t\t<fieldset className=\"components-font-appearance-control\">\n\t\t\t{ hasStylesOrWeights && (\n\t\t\t\t<CustomSelectControl\n\t\t\t\t\tclassName=\"components-font-appearance-control__select\"\n\t\t\t\t\tlabel={ getLabel() }\n\t\t\t\t\toptions={ selectOptions }\n\t\t\t\t\tvalue={ currentSelection }\n\t\t\t\t\tonChange={ ( { selectedItem } ) =>\n\t\t\t\t\t\tonChange( selectedItem.style )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n}\n"]}