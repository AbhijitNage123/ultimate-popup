{"version":3,"sources":["@wordpress/block-editor/src/components/button-block-appender/index.js"],"names":["classnames","Button","Tooltip","VisuallyHidden","forwardRef","_x","sprintf","Icon","plus","deprecated","Inserter","ButtonBlockAppender","rootClientId","className","onFocus","tabIndex","ref","onToggle","disabled","isOpen","blockTitle","hasSingleBlockType","label","isToggleButton","inserterButton","undefined","ButtonBlockerAppender","props","alternative"],"mappings":";;AAAA;AACA;AACA;AACA,OAAOA,UAAP,MAAuB,YAAvB;AAEA;AACA;AACA;;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,cAA1B,QAAgD,uBAAhD;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,SAASC,EAAT,EAAaC,OAAb,QAA4B,iBAA5B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AAEA;AACA;AACA;;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAEA,SAASC,mBAAT,CACC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,SAAhB;AAA2BC,EAAAA,OAA3B;AAAoCC,EAAAA;AAApC,CADD,EAECC,GAFD,EAGE;AACD,SACC,cAAC,QAAD;AACC,IAAA,QAAQ,EAAC,eADV;AAEC,IAAA,YAAY,EAAGJ,YAFhB;AAGC,IAAA,qBAAqB,MAHtB;AAIC,IAAA,YAAY,EAAG,CAAE;AAChBK,MAAAA,QADgB;AAEhBC,MAAAA,QAFgB;AAGhBC,MAAAA,MAHgB;AAIhBC,MAAAA,UAJgB;AAKhBC,MAAAA;AALgB,KAAF,KAMR;AACN,UAAIC,KAAJ;;AACA,UAAKD,kBAAL,EAA0B;AACzBC,QAAAA,KAAK,GAAGhB,OAAO,EACd;AACAD,QAAAA,EAAE,CAAE,QAAF,EAAY,qCAAZ,CAFY,EAGde,UAHc,CAAf;AAKA,OAND,MAMO;AACNE,QAAAA,KAAK,GAAGjB,EAAE,CACT,WADS,EAET,yCAFS,CAAV;AAIA;;AACD,YAAMkB,cAAc,GAAG,CAAEF,kBAAzB;AAEA,UAAIG,cAAc,GACjB,cAAC,MAAD;AACC,QAAA,GAAG,EAAGR,GADP;AAEC,QAAA,OAAO,EAAGF,OAFX;AAGC,QAAA,QAAQ,EAAGC,QAHZ;AAIC,QAAA,SAAS,EAAGf,UAAU,CACrBa,SADqB,EAErB,oCAFqB,CAJvB;AAQC,QAAA,OAAO,EAAGI,QARX;AASC,yBAAgBM,cAAc,GAAG,MAAH,GAAYE,SAT3C;AAUC,yBAAgBF,cAAc,GAAGJ,MAAH,GAAYM,SAV3C;AAWC,QAAA,QAAQ,EAAGP,QAXZ;AAYC,QAAA,KAAK,EAAGI;AAZT,SAcG,CAAED,kBAAF,IACD,cAAC,cAAD;AAAgB,QAAA,EAAE,EAAC;AAAnB,SAA4BC,KAA5B,CAfF,EAiBC,cAAC,IAAD;AAAM,QAAA,IAAI,EAAGd;AAAb,QAjBD,CADD;;AAsBA,UAAKe,cAAc,IAAIF,kBAAvB,EAA4C;AAC3CG,QAAAA,cAAc,GACb,cAAC,OAAD;AAAS,UAAA,IAAI,EAAGF;AAAhB,WAA0BE,cAA1B,CADD;AAGA;;AACD,aAAOA,cAAP;AACA,KAtDF;AAuDC,IAAA,UAAU;AAvDX,IADD;AA2DA;AAED;AACA;AACA;AACA;AACA;;;AACA,OAAO,MAAME,qBAAqB,GAAGtB,UAAU,CAAE,CAAEuB,KAAF,EAASX,GAAT,KAAkB;AAClEP,EAAAA,UAAU,CAAG,sCAAH,EAA0C;AACnDmB,IAAAA,WAAW,EAAE;AADsC,GAA1C,CAAV;AAIA,SAAOjB,mBAAmB,CAAEgB,KAAF,EAASX,GAAT,CAA1B;AACA,CAN8C,CAAxC;AAQP;AACA;AACA;;AACA,eAAeZ,UAAU,CAAEO,mBAAF,CAAzB","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button, Tooltip, VisuallyHidden } from '@wordpress/components';\nimport { forwardRef } from '@wordpress/element';\nimport { _x, sprintf } from '@wordpress/i18n';\nimport { Icon, plus } from '@wordpress/icons';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport Inserter from '../inserter';\n\nfunction ButtonBlockAppender(\n\t{ rootClientId, className, onFocus, tabIndex },\n\tref\n) {\n\treturn (\n\t\t<Inserter\n\t\t\tposition=\"bottom center\"\n\t\t\trootClientId={ rootClientId }\n\t\t\t__experimentalIsQuick\n\t\t\trenderToggle={ ( {\n\t\t\t\tonToggle,\n\t\t\t\tdisabled,\n\t\t\t\tisOpen,\n\t\t\t\tblockTitle,\n\t\t\t\thasSingleBlockType,\n\t\t\t} ) => {\n\t\t\t\tlet label;\n\t\t\t\tif ( hasSingleBlockType ) {\n\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t// translators: %s: the name of the block when there is only one\n\t\t\t\t\t\t_x( 'Add %s', 'directly add the only allowed block' ),\n\t\t\t\t\t\tblockTitle\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tlabel = _x(\n\t\t\t\t\t\t'Add block',\n\t\t\t\t\t\t'Generic label for block inserter button'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst isToggleButton = ! hasSingleBlockType;\n\n\t\t\t\tlet inserterButton = (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tref={ ref }\n\t\t\t\t\t\tonFocus={ onFocus }\n\t\t\t\t\t\ttabIndex={ tabIndex }\n\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t'block-editor-button-block-appender'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\taria-haspopup={ isToggleButton ? 'true' : undefined }\n\t\t\t\t\t\taria-expanded={ isToggleButton ? isOpen : undefined }\n\t\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t\tlabel={ label }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! hasSingleBlockType && (\n\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">{ label }</VisuallyHidden>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Icon icon={ plus } />\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\n\t\t\t\tif ( isToggleButton || hasSingleBlockType ) {\n\t\t\t\t\tinserterButton = (\n\t\t\t\t\t\t<Tooltip text={ label }>{ inserterButton }</Tooltip>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn inserterButton;\n\t\t\t} }\n\t\t\tisAppender\n\t\t/>\n\t);\n}\n\n/**\n * Use `ButtonBlockAppender` instead.\n *\n * @deprecated\n */\nexport const ButtonBlockerAppender = forwardRef( ( props, ref ) => {\n\tdeprecated( `wp.blockEditor.ButtonBlockerAppender`, {\n\t\talternative: 'wp.blockEditor.ButtonBlockAppender',\n\t} );\n\n\treturn ButtonBlockAppender( props, ref );\n} );\n\n/**\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/block-editor/src/components/button-block-appender/README.md\n */\nexport default forwardRef( ButtonBlockAppender );\n"]}