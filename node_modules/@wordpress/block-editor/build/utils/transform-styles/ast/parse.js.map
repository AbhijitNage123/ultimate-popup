{"version":3,"sources":["@wordpress/block-editor/src/utils/transform-styles/ast/parse.js"],"names":["commentre","css","options","lineno","column","updatePosition","str","lines","match","length","i","lastIndexOf","position","start","line","node","Position","whitespace","end","source","prototype","content","errorsList","error","msg","err","Error","reason","filename","silent","push","stylesheet","rulesList","rules","type","parsingErrors","open","close","accumulator","comments","charAt","atrule","rule","re","m","exec","slice","c","comment","pos","selector","trim","replace","matched","split","map","s","declaration","prop","val","ret","property","value","declarations","decls","decl","keyframe","vals","values","atkeyframes","vendor","name","frame","frames","concat","keyframes","atsupports","supports","style","athost","atmedia","media","atcustommedia","atpage","sel","selectors","atdocument","doc","document","atfontface","atimport","_compileAtrule","atcharset","atnamespace","RegExp","addParent","obj","parent","isNode","childParent","k","Array","isArray","forEach","v","Object","defineProperty","configurable","writable","enumerable"],"mappings":"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","sourcesContent":["/* eslint-disable @wordpress/no-unused-vars-before-return */\n\n// Adapted from https://github.com/reworkcss/css\n// because we needed to remove source map support.\n\n// http://www.w3.org/TR/CSS21/grammar.htm\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nconst commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n\nexport default function ( css, options ) {\n\toptions = options || {};\n\n\t/**\n\t * Positional.\n\t */\n\n\tlet lineno = 1;\n\tlet column = 1;\n\n\t/**\n\t * Update lineno and column based on `str`.\n\t */\n\n\tfunction updatePosition( str ) {\n\t\tconst lines = str.match( /\\n/g );\n\t\tif ( lines ) {\n\t\t\tlineno += lines.length;\n\t\t}\n\t\tconst i = str.lastIndexOf( '\\n' );\n\t\t// eslint-disable-next-line no-bitwise\n\t\tcolumn = ~i ? str.length - i : column + str.length;\n\t}\n\n\t/**\n\t * Mark position and patch `node.position`.\n\t */\n\n\tfunction position() {\n\t\tconst start = { line: lineno, column };\n\t\treturn function ( node ) {\n\t\t\tnode.position = new Position( start );\n\t\t\twhitespace();\n\t\t\treturn node;\n\t\t};\n\t}\n\n\t/**\n\t * Store position information for a node\n\t */\n\n\tfunction Position( start ) {\n\t\tthis.start = start;\n\t\tthis.end = { line: lineno, column };\n\t\tthis.source = options.source;\n\t}\n\n\t/**\n\t * Non-enumerable source string\n\t */\n\n\tPosition.prototype.content = css;\n\n\t/**\n\t * Error `msg`.\n\t */\n\n\tconst errorsList = [];\n\n\tfunction error( msg ) {\n\t\tconst err = new Error(\n\t\t\toptions.source + ':' + lineno + ':' + column + ': ' + msg\n\t\t);\n\t\terr.reason = msg;\n\t\terr.filename = options.source;\n\t\terr.line = lineno;\n\t\terr.column = column;\n\t\terr.source = css;\n\n\t\tif ( options.silent ) {\n\t\t\terrorsList.push( err );\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t/**\n\t * Parse stylesheet.\n\t */\n\n\tfunction stylesheet() {\n\t\tconst rulesList = rules();\n\n\t\treturn {\n\t\t\ttype: 'stylesheet',\n\t\t\tstylesheet: {\n\t\t\t\tsource: options.source,\n\t\t\t\trules: rulesList,\n\t\t\t\tparsingErrors: errorsList,\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * Opening brace.\n\t */\n\n\tfunction open() {\n\t\treturn match( /^{\\s*/ );\n\t}\n\n\t/**\n\t * Closing brace.\n\t */\n\n\tfunction close() {\n\t\treturn match( /^}/ );\n\t}\n\n\t/**\n\t * Parse ruleset.\n\t */\n\n\tfunction rules() {\n\t\tlet node;\n\t\tconst accumulator = [];\n\t\twhitespace();\n\t\tcomments( accumulator );\n\t\twhile (\n\t\t\tcss.length &&\n\t\t\tcss.charAt( 0 ) !== '}' &&\n\t\t\t( node = atrule() || rule() )\n\t\t) {\n\t\t\tif ( node !== false ) {\n\t\t\t\taccumulator.push( node );\n\t\t\t\tcomments( accumulator );\n\t\t\t}\n\t\t}\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Match `re` and return captures.\n\t */\n\n\tfunction match( re ) {\n\t\tconst m = re.exec( css );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst str = m[ 0 ];\n\t\tupdatePosition( str );\n\t\tcss = css.slice( str.length );\n\t\treturn m;\n\t}\n\n\t/**\n\t * Parse whitespace.\n\t */\n\n\tfunction whitespace() {\n\t\tmatch( /^\\s*/ );\n\t}\n\n\t/**\n\t * Parse comments;\n\t */\n\n\tfunction comments( accumulator ) {\n\t\tlet c;\n\t\taccumulator = accumulator || [];\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( c = comment() ) ) {\n\t\t\tif ( c !== false ) {\n\t\t\t\taccumulator.push( c );\n\t\t\t}\n\t\t}\n\t\treturn accumulator;\n\t}\n\n\t/**\n\t * Parse comment.\n\t */\n\n\tfunction comment() {\n\t\tconst pos = position();\n\t\tif ( '/' !== css.charAt( 0 ) || '*' !== css.charAt( 1 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet i = 2;\n\t\twhile (\n\t\t\t'' !== css.charAt( i ) &&\n\t\t\t( '*' !== css.charAt( i ) || '/' !== css.charAt( i + 1 ) )\n\t\t) {\n\t\t\t++i;\n\t\t}\n\t\ti += 2;\n\n\t\tif ( '' === css.charAt( i - 1 ) ) {\n\t\t\treturn error( 'End of comment missing' );\n\t\t}\n\n\t\tconst str = css.slice( 2, i - 2 );\n\t\tcolumn += 2;\n\t\tupdatePosition( str );\n\t\tcss = css.slice( i );\n\t\tcolumn += 2;\n\n\t\treturn pos( {\n\t\t\ttype: 'comment',\n\t\t\tcomment: str,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse selector.\n\t */\n\n\tfunction selector() {\n\t\tconst m = match( /^([^{]+)/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\t// FIXME: Remove all comments from selectors http://ostermiller.org/findcomment.html\n\t\treturn trim( m[ 0 ] )\n\t\t\t.replace( /\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '' )\n\t\t\t.replace( /\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function ( matched ) {\n\t\t\t\treturn matched.replace( /,/g, '\\u200C' );\n\t\t\t} )\n\t\t\t.split( /\\s*(?![^(]*\\)),\\s*/ )\n\t\t\t.map( function ( s ) {\n\t\t\t\treturn s.replace( /\\u200C/g, ',' );\n\t\t\t} );\n\t}\n\n\t/**\n\t * Parse declaration.\n\t */\n\n\tfunction declaration() {\n\t\tconst pos = position();\n\n\t\t// prop\n\t\tlet prop = match( /^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/ );\n\t\tif ( ! prop ) {\n\t\t\treturn;\n\t\t}\n\t\tprop = trim( prop[ 0 ] );\n\n\t\t// :\n\t\tif ( ! match( /^:\\s*/ ) ) {\n\t\t\treturn error( \"property missing ':'\" );\n\t\t}\n\n\t\t// val\n\t\tconst val = match(\n\t\t\t/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/\n\t\t);\n\n\t\tconst ret = pos( {\n\t\t\ttype: 'declaration',\n\t\t\tproperty: prop.replace( commentre, '' ),\n\t\t\tvalue: val ? trim( val[ 0 ] ).replace( commentre, '' ) : '',\n\t\t} );\n\n\t\t// ;\n\t\tmatch( /^[;\\s]*/ );\n\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Parse declarations.\n\t */\n\n\tfunction declarations() {\n\t\tconst decls = [];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"missing '{'\" );\n\t\t}\n\t\tcomments( decls );\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tif ( decl !== false ) {\n\t\t\t\tdecls.push( decl );\n\t\t\t\tcomments( decls );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"missing '}'\" );\n\t\t}\n\t\treturn decls;\n\t}\n\n\t/**\n\t * Parse keyframe.\n\t */\n\n\tfunction keyframe() {\n\t\tlet m;\n\t\tconst vals = [];\n\t\tconst pos = position();\n\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( m = match( /^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/ ) ) ) {\n\t\t\tvals.push( m[ 1 ] );\n\t\t\tmatch( /^,\\s*/ );\n\t\t}\n\n\t\tif ( ! vals.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'keyframe',\n\t\t\tvalues: vals,\n\t\t\tdeclarations: declarations(),\n\t\t} );\n\t}\n\n\t/**\n\t * Parse keyframes.\n\t */\n\n\tfunction atkeyframes() {\n\t\tconst pos = position();\n\t\tlet m = match( /^@([-\\w]+)?keyframes\\s*/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst vendor = m[ 1 ];\n\n\t\t// identifier\n\t\tm = match( /^([-\\w]+)\\s*/ );\n\t\tif ( ! m ) {\n\t\t\treturn error( '@keyframes missing name' );\n\t\t}\n\t\tconst name = m[ 1 ];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@keyframes missing '{'\" );\n\t\t}\n\n\t\tlet frame;\n\t\tlet frames = comments();\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( frame = keyframe() ) ) {\n\t\t\tframes.push( frame );\n\t\t\tframes = frames.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@keyframes missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'keyframes',\n\t\t\tname,\n\t\t\tvendor,\n\t\t\tkeyframes: frames,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse supports.\n\t */\n\n\tfunction atsupports() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@supports *([^{]+)/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst supports = trim( m[ 1 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@supports missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@supports missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'supports',\n\t\t\tsupports,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse host.\n\t */\n\n\tfunction athost() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@host\\s*/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@host missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@host missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'host',\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse media.\n\t */\n\n\tfunction atmedia() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@media *([^{]+)/ );\n\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\t\tconst media = trim( m[ 1 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@media missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@media missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'media',\n\t\t\tmedia,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse custom-media.\n\t */\n\n\tfunction atcustommedia() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'custom-media',\n\t\t\tname: trim( m[ 1 ] ),\n\t\t\tmedia: trim( m[ 2 ] ),\n\t\t} );\n\t}\n\n\t/**\n\t * Parse paged media.\n\t */\n\n\tfunction atpage() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@page */ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst sel = selector() || [];\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@page missing '{'\" );\n\t\t}\n\t\tlet decls = comments();\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tdecls.push( decl );\n\t\t\tdecls = decls.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@page missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'page',\n\t\t\tselectors: sel,\n\t\t\tdeclarations: decls,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse document.\n\t */\n\n\tfunction atdocument() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@([-\\w]+)?document *([^{]+)/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst vendor = trim( m[ 1 ] );\n\t\tconst doc = trim( m[ 2 ] );\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@document missing '{'\" );\n\t\t}\n\n\t\tconst style = comments().concat( rules() );\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@document missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'document',\n\t\t\tdocument: doc,\n\t\t\tvendor,\n\t\t\trules: style,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse font-face.\n\t */\n\n\tfunction atfontface() {\n\t\tconst pos = position();\n\t\tconst m = match( /^@font-face\\s*/ );\n\t\tif ( ! m ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! open() ) {\n\t\t\treturn error( \"@font-face missing '{'\" );\n\t\t}\n\t\tlet decls = comments();\n\n\t\t// declarations\n\t\tlet decl;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile ( ( decl = declaration() ) ) {\n\t\t\tdecls.push( decl );\n\t\t\tdecls = decls.concat( comments() );\n\t\t}\n\n\t\tif ( ! close() ) {\n\t\t\treturn error( \"@font-face missing '}'\" );\n\t\t}\n\n\t\treturn pos( {\n\t\t\ttype: 'font-face',\n\t\t\tdeclarations: decls,\n\t\t} );\n\t}\n\n\t/**\n\t * Parse import\n\t */\n\n\tconst atimport = _compileAtrule( 'import' );\n\n\t/**\n\t * Parse charset\n\t */\n\n\tconst atcharset = _compileAtrule( 'charset' );\n\n\t/**\n\t * Parse namespace\n\t */\n\n\tconst atnamespace = _compileAtrule( 'namespace' );\n\n\t/**\n\t * Parse non-block at-rules\n\t */\n\n\tfunction _compileAtrule( name ) {\n\t\tconst re = new RegExp( '^@' + name + '\\\\s*([^;]+);' );\n\t\treturn function () {\n\t\t\tconst pos = position();\n\t\t\tconst m = match( re );\n\t\t\tif ( ! m ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst ret = { type: name };\n\t\t\tret[ name ] = m[ 1 ].trim();\n\t\t\treturn pos( ret );\n\t\t};\n\t}\n\n\t/**\n\t * Parse at rule.\n\t */\n\n\tfunction atrule() {\n\t\tif ( css[ 0 ] !== '@' ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn (\n\t\t\tatkeyframes() ||\n\t\t\tatmedia() ||\n\t\t\tatcustommedia() ||\n\t\t\tatsupports() ||\n\t\t\tatimport() ||\n\t\t\tatcharset() ||\n\t\t\tatnamespace() ||\n\t\t\tatdocument() ||\n\t\t\tatpage() ||\n\t\t\tathost() ||\n\t\t\tatfontface()\n\t\t);\n\t}\n\n\t/**\n\t * Parse rule.\n\t */\n\n\tfunction rule() {\n\t\tconst pos = position();\n\t\tconst sel = selector();\n\n\t\tif ( ! sel ) {\n\t\t\treturn error( 'selector missing' );\n\t\t}\n\t\tcomments();\n\n\t\treturn pos( {\n\t\t\ttype: 'rule',\n\t\t\tselectors: sel,\n\t\t\tdeclarations: declarations(),\n\t\t} );\n\t}\n\n\treturn addParent( stylesheet() );\n}\n\n/**\n * Trim `str`.\n */\n\nfunction trim( str ) {\n\treturn str ? str.replace( /^\\s+|\\s+$/g, '' ) : '';\n}\n\n/**\n * Adds non-enumerable parent node reference to each node.\n */\n\nfunction addParent( obj, parent ) {\n\tconst isNode = obj && typeof obj.type === 'string';\n\tconst childParent = isNode ? obj : parent;\n\n\tfor ( const k in obj ) {\n\t\tconst value = obj[ k ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\tvalue.forEach( function ( v ) {\n\t\t\t\taddParent( v, childParent );\n\t\t\t} );\n\t\t} else if ( value && typeof value === 'object' ) {\n\t\t\taddParent( value, childParent );\n\t\t}\n\t}\n\n\tif ( isNode ) {\n\t\tObject.defineProperty( obj, 'parent', {\n\t\t\tconfigurable: true,\n\t\t\twritable: true,\n\t\t\tenumerable: false,\n\t\t\tvalue: parent || null,\n\t\t} );\n\t}\n\n\treturn obj;\n}\n\n/* eslint-enable @wordpress/no-unused-vars-before-return */\n"]}