{"version":3,"sources":["@wordpress/block-editor/src/components/block-patterns-list/index.js"],"names":["BlockPattern","isDraggable","pattern","onClick","composite","name","viewportWidth","blocks","select","blockEditorStore","__experimentalGetParsedPattern","instanceId","descriptionId","draggable","onDragStart","onDragEnd","title","description","undefined","BlockPatternPlaceholder","BlockPatternList","blockPatterns","shownPatterns","onClickPattern","orientation","label","map","isShown","includes"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport {\n\tVisuallyHidden,\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\nimport { store as blockEditorStore } from '../../store';\n\nfunction BlockPattern( { isDraggable, pattern, onClick, composite } ) {\n\tconst { name, viewportWidth } = pattern;\n\tconst { blocks } = useSelect(\n\t\t( select ) =>\n\t\t\tselect( blockEditorStore ).__experimentalGetParsedPattern( name ),\n\t\t[ name ]\n\t);\n\tconst instanceId = useInstanceId( BlockPattern );\n\tconst descriptionId = `block-editor-block-patterns-list__item-description-${ instanceId }`;\n\n\treturn (\n\t\t<InserterDraggableBlocks isEnabled={ isDraggable } blocks={ blocks }>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-block-patterns-list__list-item\"\n\t\t\t\t\taria-label={ pattern.title }\n\t\t\t\t\taria-describedby={\n\t\t\t\t\t\tpattern.description ? descriptionId : undefined\n\t\t\t\t\t}\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t\tonDragEnd={ onDragEnd }\n\t\t\t\t>\n\t\t\t\t\t<CompositeItem\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t{ ...composite }\n\t\t\t\t\t\tclassName=\"block-editor-block-patterns-list__item\"\n\t\t\t\t\t\tonClick={ () => onClick( pattern, blocks ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"block-editor-block-patterns-list__item-title\">\n\t\t\t\t\t\t\t{ pattern.title }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ !! pattern.description && (\n\t\t\t\t\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t\t\t\t\t{ pattern.description }\n\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</CompositeItem>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nfunction BlockPatternPlaceholder() {\n\treturn (\n\t\t<div className=\"block-editor-block-patterns-list__item is-placeholder\" />\n\t);\n}\n\nfunction BlockPatternList( {\n\tisDraggable,\n\tblockPatterns,\n\tshownPatterns,\n\tonClickPattern,\n\torientation,\n\tlabel = __( 'Block Patterns' ),\n} ) {\n\tconst composite = useCompositeState( { orientation } );\n\treturn (\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-editor-block-patterns-list\"\n\t\t\taria-label={ label }\n\t\t>\n\t\t\t{ blockPatterns.map( ( pattern ) => {\n\t\t\t\tconst isShown = shownPatterns.includes( pattern );\n\t\t\t\treturn isShown ? (\n\t\t\t\t\t<BlockPattern\n\t\t\t\t\t\tkey={ pattern.name }\n\t\t\t\t\t\tpattern={ pattern }\n\t\t\t\t\t\tonClick={ onClickPattern }\n\t\t\t\t\t\tisDraggable={ isDraggable }\n\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<BlockPatternPlaceholder key={ pattern.name } />\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default BlockPatternList;\n"]}