"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = BlockToolsBackCompat;

var _element = require("@wordpress/element");

var _components = require("@wordpress/components");

var _deprecated = _interopRequireDefault(require("@wordpress/deprecated"));

var _insertionPoint = _interopRequireWildcard(require("./insertion-point"));

var _blockPopover = _interopRequireDefault(require("./block-popover"));

/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */
function BlockToolsBackCompat({
  children
}) {
  const openRef = (0, _element.useContext)(_insertionPoint.InsertionPointOpenRef);
  const isDisabled = (0, _element.useContext)(_components.Disabled.Context); // If context is set, `BlockTools` is a parent component.

  if (openRef || isDisabled) {
    return children;
  }

  (0, _deprecated.default)('wp.components.Popover.Slot name="block-toolbar"', {
    alternative: 'wp.blockEditor.BlockTools'
  });
  return (0, _element.createElement)(_insertionPoint.default, {
    __unstablePopoverSlot: "block-toolbar"
  }, (0, _element.createElement)(_blockPopover.default, {
    __unstablePopoverSlot: "block-toolbar"
  }), children);
}
//# sourceMappingURL=back-compat.js.map