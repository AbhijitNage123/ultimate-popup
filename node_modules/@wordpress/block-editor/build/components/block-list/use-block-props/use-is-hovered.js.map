{"version":3,"sources":["@wordpress/block-editor/src/components/block-list/use-block-props/use-is-hovered.js"],"names":["listener","event","defaultPrevented","action","type","preventDefault","currentTarget","classList","useIsHovered","isEnabled","select","isNavigationMode","getSettings","blockEditorStore","outlineMode","node","addEventListener","removeEventListener","remove"],"mappings":";;;;;;;AAGA;;AACA;;AAKA;;AATA;AACA;AACA;;AAIA;AACA;AACA;AAGA,SAASA,QAAT,CAAmBC,KAAnB,EAA2B;AAC1B,MAAKA,KAAK,CAACC,gBAAX,EAA8B;AAC7B;AACA;;AAED,QAAMC,MAAM,GAAGF,KAAK,CAACG,IAAN,KAAe,WAAf,GAA6B,KAA7B,GAAqC,QAApD;AAEAH,EAAAA,KAAK,CAACI,cAAN;AACAJ,EAAAA,KAAK,CAACK,aAAN,CAAoBC,SAApB,CAA+BJ,MAA/B,EAAyC,YAAzC;AACA;AAED;AACA;AACA;AACA;;;AACO,SAASK,YAAT,GAAwB;AAC9B,QAAMC,SAAS,GAAG,qBAAaC,MAAF,IAAc;AAC1C,UAAM;AAAEC,MAAAA,gBAAF;AAAoBC,MAAAA;AAApB,QAAoCF,MAAM,CAAEG,YAAF,CAAhD;AACA,WAAOF,gBAAgB,MAAMC,WAAW,GAAGE,WAA3C;AACA,GAHiB,EAGf,EAHe,CAAlB;AAKA,SAAO,2BACJC,IAAF,IAAY;AACX,QAAKN,SAAL,EAAiB;AAChBM,MAAAA,IAAI,CAACC,gBAAL,CAAuB,UAAvB,EAAmChB,QAAnC;AACAe,MAAAA,IAAI,CAACC,gBAAL,CAAuB,WAAvB,EAAoChB,QAApC;AAEA,aAAO,MAAM;AACZe,QAAAA,IAAI,CAACE,mBAAL,CAA0B,UAA1B,EAAsCjB,QAAtC;AACAe,QAAAA,IAAI,CAACE,mBAAL,CAA0B,WAA1B,EAAuCjB,QAAvC,EAFY,CAIZ;;AACAe,QAAAA,IAAI,CAACR,SAAL,CAAeW,MAAf,CAAuB,YAAvB;AACA,OAND;AAOA;AACD,GAdK,EAeN,CAAET,SAAF,CAfM,CAAP;AAiBA","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useRefEffect } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../../store';\n\nfunction listener( event ) {\n\tif ( event.defaultPrevented ) {\n\t\treturn;\n\t}\n\n\tconst action = event.type === 'mouseover' ? 'add' : 'remove';\n\n\tevent.preventDefault();\n\tevent.currentTarget.classList[ action ]( 'is-hovered' );\n}\n\n/**\n * Adds `is-hovered` class when the block is hovered and in navigation or\n * outline mode.\n */\nexport function useIsHovered() {\n\tconst isEnabled = useSelect( ( select ) => {\n\t\tconst { isNavigationMode, getSettings } = select( blockEditorStore );\n\t\treturn isNavigationMode() || getSettings().outlineMode;\n\t}, [] );\n\n\treturn useRefEffect(\n\t\t( node ) => {\n\t\t\tif ( isEnabled ) {\n\t\t\t\tnode.addEventListener( 'mouseout', listener );\n\t\t\t\tnode.addEventListener( 'mouseover', listener );\n\n\t\t\t\treturn () => {\n\t\t\t\t\tnode.removeEventListener( 'mouseout', listener );\n\t\t\t\t\tnode.removeEventListener( 'mouseover', listener );\n\n\t\t\t\t\t// Remove class in case it lingers.\n\t\t\t\t\tnode.classList.remove( 'is-hovered' );\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[ isEnabled ]\n\t);\n}\n"]}